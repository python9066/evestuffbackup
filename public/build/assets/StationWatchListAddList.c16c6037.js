import{u as Le,r as i,c as x,h as N,e as ye,n as G,m as M,C as J,f as t,w as l,q as he,aG as c,z,Q as K,j as s,l as m,x as f,ay as b,az as w,y as r,A as _,aI as Ve,v as X,ah as Ue,G as Y}from"./app.b1a18a50.js";import{Q as E}from"./QSeparator.9b4cafbb.js";import{Q as L}from"./QItemLabel.7a56d5d6.js";import{Q as y}from"./QToggle.2e912ec3.js";import{Q as h,a as V}from"./QSelect.73ecfed2.js";import"./use-checkbox.55e8ea08.js";const Ce={class:"row"},Te={class:"col"},ge={class:"text-xs"},Se={class:"col"},Re={class:"text-xs"},ke={class:"row"},Ae={class:"col"},He={class:"text-xs"},We={class:"col"},$e={class:"text-xs"},Fe=s("span",{class:"text-subtitle1"}," Here is where you select which stations, systems, constellations and regions you want to add to this list. ",-1),Me=s("br",null,null,-1),Qe=s("span",{class:"text-subtitle2"}," If you cant find what you are looking for, make sure you have selected the correct region on the setting pannel.",-1),De={class:"text-xs"},Ie={class:"text-xs"},Pe={class:"text-xs"},qe={class:"text-xs"},Ge={__name:"StationWatchListAddList",props:{edit:{type:Number,default:0},list:{type:Object,required:!1}},setup(Z){const u=Z;let d=Le(),U=i(!1),T=i(null),g=i(null),S=i([]),Q=i(),ee=x(()=>Q.value?d.stationWatchList.filter(a=>a.text.toLowerCase().indexOf(Q.value)>-1):d.stationWatchList),te=(a,o,e)=>{o(()=>{Q.value=a.toLowerCase()})},R=i([]),D=i(),le=x(()=>D.value?d.systemdropdownlist.filter(a=>a.text.toLowerCase().indexOf(D.value)>-1):d.systemdropdownlist),oe=(a,o,e)=>{o(()=>{D.value=a.toLowerCase()})},k=i([]),I=i(),ae=x(()=>I.value?d.constellationDropDownlist.filter(a=>a.text.toLowerCase().indexOf(I.value)>-1):d.constellationDropDownlist),ne=(a,o,e)=>{o(()=>{I.value=a.toLowerCase()})},A=i([]),P=i(),ie=x(()=>P.value?d.regiondropdownlist.filter(a=>a.text.toLowerCase().indexOf(P.value)>-1):d.regiondropdownlist),se=(a,o,e)=>{o(()=>{P.value=a.toLowerCase()})},H=i([]),q=i(),ue=x(()=>q.value?d.roleListForWatchListSetting.filter(a=>a.text.toLowerCase().indexOf(q.value)>-1):d.roleListForWatchListSetting),de=(a,o,e)=>{o(()=>{q.value=a.toLowerCase()})},W=i([]),O=i(),re=x(()=>O.value?d.userList.filter(a=>a.name.toLowerCase().indexOf(O.value)>-1):d.userList),ve=(a,o,e)=>{o(()=>{O.value=a.toLowerCase()})},$=i([]),B=i(),pe=x(()=>B.value?d.stationWatchListAllianceList.filter(a=>a.text.toLowerCase().indexOf(B.value)>-1):d.stationWatchListAllianceList),me=(a,o,e)=>{o(()=>{B.value=a.toLowerCase()})},F=i([]),j=i(),xe=x(()=>j.value?d.stationWatchListItemList.filter(a=>a.text.toLowerCase().indexOf(j.value)>-1):d.stationWatchListItemList),ce=(a,o,e)=>{o(()=>{j.value=a.toLowerCase()})},fe=async()=>{var a={name:T.value,description:g.value,station_id:S.value,system_id:R.value,constellation_id:k.value,region_id:A.value,role_id:H.value,user_id:W.value,alliance_id:$.value,type_id:F.value};u.edit==0?await axios({method:"post",url:"/api/watchlist",withCredentials:!0,data:a,headers:{Accept:"application/json","Content-Type":"application/json"}}):await axios({method:"put",url:"/api/watchlist/"+u.list.id,withCredentials:!0,data:a,headers:{Accept:"application/json","Content-Type":"application/json"}})},be=()=>{U.value=!1,T.value=null,g.value=null,S.value=[],R.value=[],k.value=[],A.value=[],H.value=[],W.value=[]},we=()=>{u.edit==1&&(T.value=u.list.name,g.value=u.list.description,S.value=u.list.settings.station_id,R.value=u.list.settings.system_id,k.value=u.list.settings.constellation_id,A.value=u.list.settings.region_id,H.value=u.list.settings.role_id,W.value=u.list.settings.user_id,$.value=u.list.settings.alliance_id,F.value=u.list.settings.type_id)},_e=x(()=>u.edit==0?"Add":"Update");return(a,o)=>(N(),ye("div",null,[u.edit==0?(N(),G(M,{key:0,color:"positive",icon:"fa-solid fa-plus",label:"Add",rounded:"",onClick:o[0]||(o[0]=e=>U.value=!U.value)})):J("",!0),u.edit==1?(N(),G(M,{key:1,color:"positive",flat:"",icon:"fa-solid fa-edit",round:"",size:"xs",onClick:o[1]||(o[1]=e=>U.value=!U.value)})):J("",!0),t(Ue,{onBeforeShow:o[12]||(o[12]=e=>m(we)()),onBeforeHide:o[13]||(o[13]=e=>m(be)()),modelValue:U.value,"onUpdate:modelValue":o[14]||(o[14]=e=>U.value=e),persistent:""},{default:l(()=>[t(he,{class:"myRoundTop",style:{"max-width":"1000px"}},{default:l(()=>[t(c,{class:"bg-primary text-center text-h4 q-pa-none"},{default:l(()=>[z(" Make a WatchList ")]),_:1}),t(c,null,{default:l(()=>[t(K,{modelValue:T.value,"onUpdate:modelValue":o[2]||(o[2]=e=>T.value=e),dense:"",type:"text",label:"Name of Watch List"},null,8,["modelValue"])]),_:1}),t(c,null,{default:l(()=>[t(K,{modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=e=>g.value=e),dense:"",type:"text",label:"What is this list for"},null,8,["modelValue"])]),_:1}),t(E,{color:"webChip"}),t(c,{class:"text-center text-subtitle1"},{default:l(()=>[z(" Here is where you select which roles and users can see this list ")]),_:1}),t(c,null,{default:l(()=>[s("div",Ce,[s("div",Te,[t(h,{modelValue:H.value,"onUpdate:modelValue":o[4]||(o[4]=e=>H.value=e),"option-label":"text","option-value":"value",label:"Roles with access",options:ue.value,onFilter:m(de),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"rolesDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:v,toggleOption:p})=>[t(f,b(w(e)),{default:l(()=>[t(r,null,{default:l(()=>[t(L,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(r,{side:""},{default:l(()=>[t(y,{"model-value":v,"onUpdate:modelValue":C=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(V,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[s("span",ge,_(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])]),s("div",Se,[t(h,{modelValue:W.value,"onUpdate:modelValue":o[5]||(o[5]=e=>W.value=e),"option-label":"name","option-value":"id",label:"Users with access",options:re.value,onFilter:m(ve),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"usersDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:v,toggleOption:p})=>[t(f,b(w(e)),{default:l(()=>[t(r,null,{default:l(()=>[t(L,{innerHTML:n.name},null,8,["innerHTML"])]),_:2},1024),t(r,{side:""},{default:l(()=>[t(y,{"model-value":v,"onUpdate:modelValue":C=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(V,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[s("span",Re,_(e.opt.name),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])])])]),_:1}),t(E,{color:"webChip"}),t(c,{class:"text-center text-subtitle1"},{default:l(()=>[z(" Here you select the Owership and Type of stations ")]),_:1}),t(c,null,{default:l(()=>[s("div",ke,[s("div",Ae,[t(h,{modelValue:$.value,"onUpdate:modelValue":o[6]||(o[6]=e=>$.value=e),"option-label":"text","option-value":"value",label:"Alliance",options:pe.value,onFilter:m(me),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"aliianceDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:v,toggleOption:p})=>[t(f,b(w(e)),{default:l(()=>[t(r,null,{default:l(()=>[t(L,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(r,{side:""},{default:l(()=>[t(y,{"model-value":v,"onUpdate:modelValue":C=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(V,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[s("span",He,_(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])]),s("div",We,[t(h,{modelValue:F.value,"onUpdate:modelValue":o[7]||(o[7]=e=>F.value=e),"option-label":"text","option-value":"value",label:"Station Type",options:xe.value,onFilter:m(ce),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"TypeDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:v,toggleOption:p})=>[t(f,b(w(e)),{default:l(()=>[t(r,null,{default:l(()=>[t(L,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(r,{side:""},{default:l(()=>[t(y,{"model-value":v,"onUpdate:modelValue":C=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(V,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[s("span",$e,_(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])])])]),_:1}),t(E,{color:"webChip"}),t(c,{class:"text-center"},{default:l(()=>[Fe,Me,Qe]),_:1}),t(c,null,{default:l(()=>[t(h,{modelValue:S.value,"onUpdate:modelValue":o[8]||(o[8]=e=>S.value=e),"option-label":"text","option-value":"value",label:"Stations",options:ee.value,onFilter:m(te),"emit-value":"","map-options":"",rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway",ref:"stationsDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:v,toggleOption:p})=>[t(f,b(w(e)),{default:l(()=>[t(r,null,{default:l(()=>[t(L,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(r,{side:""},{default:l(()=>[t(y,{"model-value":v,"onUpdate:modelValue":C=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(V,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[s("span",De,_(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(h,{modelValue:R.value,"onUpdate:modelValue":o[9]||(o[9]=e=>R.value=e),"option-label":"text","option-value":"value",label:"Systems",options:le.value,onFilter:m(oe),"emit-value":"","map-options":"",rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway",ref:"system","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:v,toggleOption:p})=>[t(f,b(w(e)),{default:l(()=>[t(r,null,{default:l(()=>[t(L,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(r,{side:""},{default:l(()=>[t(y,{"model-value":v,"onUpdate:modelValue":C=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(V,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[s("span",Ie,_(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(h,{modelValue:k.value,"onUpdate:modelValue":o[10]||(o[10]=e=>k.value=e),dense:"","option-label":"text","option-value":"value",label:"Constellations",options:ae.value,onFilter:m(ne),"emit-value":"","map-options":"",rounded:"",standout:"","input-debounce":"0","label-color":"webway",ref:"constelations","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:v,toggleOption:p})=>[t(f,b(w(e)),{default:l(()=>[t(r,null,{default:l(()=>[t(L,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(r,{side:""},{default:l(()=>[t(y,{"model-value":v,"onUpdate:modelValue":C=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(V,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[s("span",Pe,_(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(h,{modelValue:A.value,"onUpdate:modelValue":o[11]||(o[11]=e=>A.value=e),dense:"","option-label":"text",regiondropdownlist:"",label:"Regions",options:ie.value,onFilter:m(se),"emit-value":"","map-options":"",rounded:"",standout:"","input-debounce":"0","label-color":"webway",ref:"regions","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:v,toggleOption:p})=>[t(f,b(w(e)),{default:l(()=>[t(r,null,{default:l(()=>[t(L,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(r,{side:""},{default:l(()=>[t(y,{"model-value":v,"onUpdate:modelValue":C=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(V,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[s("span",qe,_(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])]),_:1}),t(Ve,{align:"around"},{default:l(()=>[X(t(M,{rounded:"",color:"positive",label:_e.value,onClick:m(fe)},null,8,["label","onClick"]),[[Y]]),X(t(M,{rounded:"",color:"negative",label:"close"},null,512),[[Y]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{Ge as default};

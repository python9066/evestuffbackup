import{aA as Re,aB as Ve,ac as Fe,ad as Pe,ae as Ee,aC as Qe,r as _,ag as w,y as Ae,s as $e,e as d,o as c,c as R,a as s,w as l,ah as h,ai as i,ak as r,al as b,aq as x,aj as qe,Q as Be,a0 as F,ay as I,az as M,$ as v,t as m,Y as De,am as Ie,z as Me,an as Ue,ao as Oe,ab as U,b as V,ar as O,ap as te,at as ae,aD as je,au as ze,R as We}from"./app.b0420997.js";import{Q as He,b as j,e as z,d as W,c as Ne,a as p}from"./QTable.cffd3fb0.js";import{Q as H}from"./QToggle.8bc121d2.js";import{Q as ne}from"./QTr.db13a5a5.js";function Ke(S){const o=document.createElement("textarea");o.value=S,o.contentEditable="true",o.style.position="fixed";const f=()=>{};Re(f),document.body.appendChild(o),o.focus(),o.select();const g=document.execCommand("copy");return o.remove(),Ve(f),g}function Je(S){return navigator.clipboard!==void 0?navigator.clipboard.writeText(S):new Promise((o,f)=>{const g=Ke(S);g?o(!0):f(g)})}const Ye={class:"q-ma-md"},Ge={class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},Xe=i("div",{class:"col-11 flex flex-center"},[i("span",{class:"text-h4"},"Stations")],-1),Ze={class:"col-1 flex justify-end"},et={class:"row full-width q-pt-md justify-between"},tt={class:"col-12"},at={class:"row q-gutter-sm q-pl-md"},nt={class:"col-1"},st={class:"col-2"},lt={class:"text-xs"},ot={class:"col-4"},rt={class:"text-xs"},it={class:"col-4"},ut={class:"text-xs"},dt=i("div",{class:"row"},[i("div",{class:"col"},[i("span",{class:"myFont"},"Webway")])],-1),mt={class:"row"},ct={class:"col"},pt={key:1},_t=["onClick"],ft=["src"],yt={key:0},vt=["src"],gt=["src"],wt={class:"row"},ht=i("div",{class:"col"},"T",-1),bt={class:"col"},xt={class:"col"},St={key:0,class:"col"},Rt={__name:"StationSheet",setup(S){Fe(e=>({"535462b7":Te.value}));let o=Pe(),f=Ee("can");const g=Qe();let P=_("");const se=w(()=>h(()=>import("./SoloCampaginWebWay.176c9334.js"),["assets/SoloCampaginWebWay.176c9334.js","assets/app.b0420997.js","assets/app.4ba9f0e4.css"])),le=w(()=>h(()=>import("./StationSheetLogs.953966e9.js"),["assets/StationSheetLogs.953966e9.js","assets/app.b0420997.js","assets/app.4ba9f0e4.css","assets/QTable.cffd3fb0.js","assets/QTr.db13a5a5.js"])),oe=w(()=>h(()=>import("./SettingPannel.84ef3608.js"),["assets/SettingPannel.84ef3608.js","assets/app.b0420997.js","assets/app.4ba9f0e4.css","assets/QTable.cffd3fb0.js","assets/QToggle.8bc121d2.js"])),re=w(()=>h(()=>import("./StatusButton.a18c3d79.js"),["assets/StatusButton.a18c3d79.js","assets/app.b0420997.js","assets/app.4ba9f0e4.css","assets/QTable.cffd3fb0.js"])),ie=w(()=>h(()=>import("./StationSheetInfo.266599dd.js"),["assets/StationSheetInfo.266599dd.js","assets/app.b0420997.js","assets/app.4ba9f0e4.css","assets/QTable.cffd3fb0.js"])),ue=w(()=>h(()=>import("./RcStationMessage.bce6f2fa.js"),["assets/RcStationMessage.bce6f2fa.js","assets/app.b0420997.js","assets/app.4ba9f0e4.css","assets/QBadge.27dc9cbe.js","assets/RcStationMessage.91aefcb2.css"]));Ae(async()=>{await o.getStationRegionLists(),await o.getStationList(),Echo.private("stationsheet").listen("StationSheetUpdate",e=>{e.flag.message!=null&&o.updateStationList(e.flag.message),e.flag.flag==1&&o.getStationRegionLists(),e.flag.flag==2&&o.getStationList(),e.flag.flag==3}).listen("StationDeadStationSheet",e=>{o.deleteStationSheetNotification(e.flag.id)}).listen("StationSheetUpdateWebway",e=>{de(e.flag.id)}).listen("StationSheetMessageUpdate",e=>{o.updateStationList(e.flag.message)})}),$e(async()=>{Echo.leave("stationsheet")}),document.title="Evestuff - Stations";let de=e=>{axios({method:"put",url:"/api/stationsheetupdatewebway/"+e,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},E=()=>{},k=_([]),Q=_(),N=d(()=>{var e=o.stationList.map(t=>({id:t.system.region.id,name:t.system.region.region_name}));const n=[],a=new Map;for(const t of e)a.has(t.id)||(a.set(t.id,!0),n.push({value:t.id,text:t.name}));return n.sort((t,u)=>t.text.localeCompare(u.text)),n}),A=d(()=>Q.value?N.value.filter(e=>e.text.toLowerCase().indexOf(Q.value)>-1):N.value),me=(e,n,a)=>{n(()=>{Q.value=e.toLowerCase(),A.value.length>0&&e&&(k.value=A.value[0])})},C=_([]),$=_(),K=d(()=>{var e=o.stationList.map(t=>({id:t.system.constellation.id,name:t.system.constellation.constellation_name}));const n=[],a=new Map;for(const t of e)a.has(t.id)||(a.set(t.id,!0),n.push({value:t.id,text:t.name}));return n.sort((t,u)=>t.text.localeCompare(u.text)),n}),q=d(()=>$.value?K.value.filter(e=>e.text.toLowerCase().indexOf($.value)>-1):K.value),ce=(e,n,a)=>{n(()=>{$.value=e.toLowerCase(),q.value.length>0&&e&&(C.value=q.value[0])})},L=_([]),B=_(),J=d(()=>{var e=o.stationList.map(t=>({id:t.item.id,type:t.item.item_name}));const n=[],a=new Map;for(const t of e)a.has(t.id)||(a.set(t.id,!0),n.push({value:t.id,text:t.type}));return n.sort((t,u)=>t.text.localeCompare(u.text)),n}),D=d(()=>B.value?J.value.filter(e=>e.text.toLowerCase().indexOf(B.value)>-1):J.value),pe=(e,n,a)=>{n(()=>{B.value=e.toLowerCase(),D.value.length>0&&e&&(L.value=D.value[0])})},Y=d(()=>k.value.length>0?o.stationList.filter(e=>!!k.value.map(n=>n.value).includes(e.system.region.id)):o.stationList),G=d(()=>C.value.length>0?Y.value.filter(e=>!!C.value.map(n=>n.value).includes(e.system.constellation.id)):Y.value),_e=d(()=>L.value.length>0?G.value.filter(e=>!!L.value.map(n=>n.value).includes(e.item_id)):G.value),fe=e=>"https://images.evetech.net/types/"+e+"/icon",X=e=>{if(e.system.webway){var n=e.system.webway,a=n.filter(u=>u.start_system_id==o.webwaySelectedStartSystem.value);if(a.length>0){var t=a[0].jumps;return t}else return null}else return null},ye=e=>{var n={value:e.value,text:e.text};menu=!1,o.updateWebwaySelectedStartSystem(n)},Z=e=>{var u;if(e.system.webway){var n=e.system.webway,a=n.filter(y=>y.start_system_id==o.webwaySelectedStartSystem.value);if(a.length>0){var t=(u=a[0].webway)!=null?u:null;return t}else return null}else return null},ve=d(()=>o.webwaySelectedStartSystem.length>0),ge=d(()=>{var e=o.webwayStartSystems,n={value:30004759,text:"1DQ1-A"};return e.push(n),e.sort(function(a,t){return a.value-t.value||a.text.localeCompare(t.text)}),e}),we=e=>{var n=ge.value.filter(a=>a.value!=e);return n},he=e=>{var n=0;return e.corp.alliance?n=e.corp.alliance.standing:n=e.corp.standing,n>0?"text-blue":n<0?"text-red":""},be=e=>{var n=0;return e.corp.alliance?n=e.corp.alliance.standing:n=e.corp.standing,n>0?"text-blue":n<0?"text-red":""},xe=e=>e.item.id==37534||e.item.id==35841||e.item.id==35840?!1:e.added_from_recon==1,Se=_({sortBy:"progress",descending:!1,page:1,rowsPerPage:0}),ke=_([{name:"webway",align:"center",required:!1,label:"Webway",classes:"text-no-wrap",field:e=>e.system.webway[0]?e.system.webway[0].jumps:null,format:e=>`${e}`,sortable:!1},{name:"region",required:!0,align:"left",label:"Region",classes:"text-no-wrap",field:e=>e.system.region.region_name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"constellation",required:!0,align:"left",label:"Constellation",classes:"text-no-wrap",field:e=>e.system.constellation.constellation_name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"system",align:"left",classes:"text-no-wrap",label:"System",field:e=>e.system.system_name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"corpTicker",align:"left",required:!0,classes:"text-no-wrap",label:"Corp",field:e=>e.corp.ticker,format:e=>`${e}`,sortable:!0,filter:!0},{name:"allianceTicker",align:"left",required:!0,label:"Alliance",classes:"text-no-wrap",field:e=>e.corp.alliance?e.corp.alliance.ticker:null,format:e=>`${e}`,sortable:!0,filter:!0},{name:"type",label:"Type",align:"left",classes:"text-no-wrap",field:e=>e.item.item_name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"name",label:"Name",align:"left",classes:"text-no-wrap",field:e=>e.name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"status",label:"Status",classes:"text-no-wrap",align:"right",sortable:!0,field:e=>e.status.name,format:e=>`${e}`},{name:"actions",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`}]),Ce=e=>{Je(e).then(()=>{g.notify({type:"info",message:e+" copied to your clipboard"})})},Le=e=>e.system.region.region_name=="Black Rise"?"https://evemaps.dotlan.net/map/Black_Rise/"+e.system.system_name+"#const":e.system.region.region_name=="The Bleak Lands"?"https://evemaps.dotlan.net/map/The_Bleak_Lands/"+e.system.system_name+"#const":e.system.region.region_name=="The Citadel"?"https://evemaps.dotlan.net/map/The_Citadel/"+e.system.system_name+"#const":e.system.region.region_name=="Cloud Ring"?"https://evemaps.dotlan.net/map/Cloud_Ring/"+e.system.system_name+"#const":e.system.region.region_name=="Cobalt Edge"?"https://evemaps.dotlan.net/map/Cobalt_Edge/"+e.system.system_name+"#const":e.system.region.region_name=="Etherium Reach"?"https://evemaps.dotlan.net/map/Etherium_Reach/"+e.system.system_name+"#const":e.system.region.region_name=="The Forge"?"https://evemaps.dotlan.net/map/The_Forge/"+e.system.system_name+"#const":e.system.region.region_name=="The Kalevala Expanse"?"https://evemaps.dotlan.net/map/The_Kalevala_Expanse/"+e.system.system_name+"#const":e.system.region.region_name=="Molden Heath"?"https://evemaps.dotlan.net/map/Molden_Heath/"+e.system.system_name+"#const":e.system.region.region_name=="Outer Passage"?"https://evemaps.dotlan.net/map/Outer_Passage/"+e.system.system_name+"#const":e.system.region.region_name=="Outer Ring"?"https://evemaps.dotlan.net/map/Outer_Ring/"+e.system.system_name+"#const":e.system.region.region_name=="Paragon Soul"?"https://evemaps.dotlan.net/map/Paragon_Soul/"+e.system.system_name+"#const":e.system.region.region_name=="Period Basis"?"https://evemaps.dotlan.net/map/Period_Basis/"+e.system.system_name+"#const":e.system.region.region_name=="Perrigen Falls"?"https://evemaps.dotlan.net/map/Perrigen_Falls/"+e.system.system_name+"#const":e.system.region.region_name=="Pure Blind"?"https://evemaps.dotlan.net/map/Pure_Blind/"+e.system.system_name+"#const":e.system.region.region_name=="Scalding Pass"?"https://evemaps.dotlan.net/map/Scalding_Pass/"+e.system.system_name+"#const":e.system.region.region_name=="Sinq Laison"?"https://evemaps.dotlan.net/map/Sinq_Laison/"+e.system.system_name+"#const":e.system.region.region_name=="The Spire"?"https://evemaps.dotlan.net/map/The_Spire/"+e.system.system_name+"#const":e.system.region.region_name=="Vale of the Silent"?"https://evemaps.dotlan.net/map/Vale_of_the_Silent/"+e.system.system_name+"#const":e.system.region.region_name=="Verge Vendor"?"https://evemaps.dotlan.net/map/Verge_Vendor/"+e.system.system_name+"#const":e.system.region.region_name=="Wicked Creek"?"https://evemaps.dotlan.net/map/Wicked_Creek/"+e.system.system_name+"#const":"https://evemaps.dotlan.net/map/"+e.system.region.region_name+"/"+e.system.system_name+"#const",Te=d(()=>{let e=30;return o.size.height-e+"px"});return(e,n)=>(c(),R("div",Ye,[s(He,{title:"Connections",class:"myTableStations myRound bg-webBack",rows:_e.value,columns:ke.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id","no-data-label":"All Hostile Stations our reffed!!!!!!",dark:"",dense:"",filter:P.value,ref:"tableRef",rounded:"",pagination:Se.value},{top:l(a=>[i("div",Ge,[Xe,i("div",Ze,[r(f)("view_coord_sheet")?(c(),b(r(oe),{key:0})):x("",!0)])]),i("div",et,[i("div",tt,[i("div",at,[i("div",nt,[s(qe,{rounded:"",standout:"",dense:"",debounce:"300",modelValue:P.value,"onUpdate:modelValue":n[0]||(n[0]=t=>P.value=t),clearable:"",placeholder:"Search"},{append:l(()=>[s(Be,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue"])]),i("div",st,[s(j,{rounded:"",dense:"",clearable:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:k.value,"onUpdate:modelValue":n[1]||(n[1]=t=>k.value=t),options:A.value,ref:"toRegionRef",label:"Region",onFilter:r(me),onFilterAbort:r(E),"map-options":"","use-input":"","use-chips":"",multiple:"","input-style":" max-width: 10px; min-width: 10px"},{option:l(({itemProps:t,opt:u,selected:y,toggleOption:T})=>[s(F,I(M(t)),{default:l(()=>[s(v,null,{default:l(()=>[s(z,{innerHTML:u.text},null,8,["innerHTML"])]),_:2},1024),s(v,{side:""},{default:l(()=>[s(H,{"model-value":y,"onUpdate:modelValue":ee=>T(u)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(t=>[s(W,{removable:"",onRemove:u=>t.removeAtIndex(t.index),tabindex:t.tabindex,"text-color":"white",class:"q-ma-none",color:"webChip"},{default:l(()=>[i("span",lt,m(t.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])]),i("div",ot,[s(j,{rounded:"",clearable:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:C.value,"onUpdate:modelValue":n[2]||(n[2]=t=>C.value=t),options:q.value,ref:"toConstellationRef",label:"Constellations",onFilter:r(ce),onFilterAbort:r(E),"map-options":"","use-input":"","use-chips":"",multiple:"","input-style":" max-width: 10px; min-width: 10px"},{option:l(({itemProps:t,opt:u,selected:y,toggleOption:T})=>[s(F,I(M(t)),{default:l(()=>[s(v,null,{default:l(()=>[s(z,{innerHTML:u.text},null,8,["innerHTML"])]),_:2},1024),s(v,{side:""},{default:l(()=>[s(H,{"model-value":y,"onUpdate:modelValue":ee=>T(u)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(t=>[s(W,{removable:"",onRemove:u=>t.removeAtIndex(t.index),tabindex:t.tabindex,"text-color":"white",class:"q-ma-none",color:"webChip"},{default:l(()=>[i("span",rt,m(t.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])]),i("div",it,[s(j,{rounded:"",clearable:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:L.value,"onUpdate:modelValue":n[3]||(n[3]=t=>L.value=t),options:D.value,ref:"typeRef",label:"Type",onFilter:r(pe),onFilterAbort:r(E),"map-options":"","use-input":"","use-chips":"",multiple:"","input-style":" max-width: 10px; min-width: 10px"},{option:l(({itemProps:t,opt:u,selected:y,toggleOption:T})=>[s(F,I(M(t)),{default:l(()=>[s(v,null,{default:l(()=>[s(z,{innerHTML:u.text},null,8,["innerHTML"])]),_:2},1024),s(v,{side:""},{default:l(()=>[s(H,{"model-value":y,"onUpdate:modelValue":ee=>T(u)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(t=>[s(W,{removable:"",onRemove:u=>t.removeAtIndex(t.index),tabindex:t.tabindex,"text-color":"white",class:"q-ma-none",color:"webChip"},{default:l(()=>[i("span",ut,m(t.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])])])])])]),"header-cell-webway":l(a=>[s(Ne,{props:a},{default:l(()=>[dt,i("div",mt,[i("div",ct,[ve.value?(c(),b(U,{key:0,size:"sm",label:r(o).webwaySelectedStartSystem.text},{default:l(()=>[s(De,null,{default:l(()=>[s(Ie,{class:"my-card"},{default:l(()=>[s(Me,{bordered:""},{default:l(()=>[(c(!0),R(Ue,null,Oe(r(we)(r(o).webwaySelectedStartSystem.value),(t,u)=>ae((c(),b(F,{clickable:"",key:u,onClick:y=>r(ye)(t)},{default:l(()=>[s(v,null,{default:l(()=>[V(m(t.text),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[ze],[We]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])):(c(),R("span",pt,m(r(o).webwaySelectedStartSystem.text),1))])])]),_:2},1032,["props"])]),body:l(a=>[s(ne,{props:a},{default:l(()=>[s(p,{key:"webway",props:a},{default:l(()=>[r(X)(a.row)&&r(Z)(a.row)?(c(),b(r(se),{key:0,jumps:r(X)(a.row),web:r(Z)(a.row)},null,8,["jumps","web"])):x("",!0)]),_:2},1032,["props"]),s(p,{key:"region",props:a},{default:l(()=>[V(m(a.row.system.region.region_name),1)]),_:2},1032,["props"]),s(p,{key:"constellation",props:a},{default:l(()=>[V(m(a.row.system.constellation.constellation_name),1)]),_:2},1032,["props"]),s(p,{key:"system",props:a},{default:l(()=>[s(U,{color:"none",flat:"",rounded:"","text-color":"positive",icon:"fa-solid fa-map",href:r(Le)(a.row),target:"_blank"},null,8,["href"]),i("span",{onClick:t=>r(Ce)(a.row.system.system_name),class:"cursor-pointer"},m(a.row.system.system_name),9,_t)]),_:2},1032,["props"]),s(p,{key:"corpTicker",props:a},{default:l(()=>[s(O,{size:"lg",class:"q-pr-xl"},{default:l(()=>[i("img",{src:a.row.corp.url},null,8,ft)]),_:2},1024),i("span",{class:te(r(he)(a.row))},m(a.row.corp.ticker),3)]),_:2},1032,["props"]),s(p,{key:"allianceTicker",props:a},{default:l(()=>[a.row.corp.alliance_id?(c(),R("span",yt,[s(O,{size:"lg",class:"q-pr-xl"},{default:l(()=>[i("img",{src:a.row.corp.alliance.url},null,8,vt)]),_:2},1024),i("span",{class:te(r(be)(a.row))},m(a.row.corp.alliance.ticker),3)])):x("",!0)]),_:2},1032,["props"]),s(p,{key:"type",props:a},{default:l(()=>[s(O,{size:"lg",class:"q-pr-xl"},{default:l(()=>[i("img",{src:r(fe)(a.row.item_id)},null,8,gt)]),_:2},1024),V(" "+m(a.row.item.item_name),1)]),_:2},1032,["props"]),s(p,{key:"name",props:a},{default:l(()=>[V(m(a.row.name),1)]),_:2},1032,["props"]),s(p,{key:"status",props:a},{default:l(()=>[r(f)("add_timer")?(c(),b(r(re),{key:0,item:a.row},null,8,["item"])):x("",!0)]),_:2},1032,["props"]),s(p,{key:"actions",props:a},{default:l(()=>[i("div",wt,[ht,i("div",bt,[s(r(ue),{station:a.row,type:4},null,8,["station"])]),i("div",xt,[r(xe)(a.row)?(c(),b(r(ie),{key:0,station:a.row},null,8,["station"])):x("",!0)]),r(f)("view_station_logs")?(c(),R("div",St,[s(U,{size:"md",flat:"",color:"none","text-color":"primary",round:"",padding:"none",onClick:t=>a.expand=!a.expand,icon:"fa-solid fa-clock-rotate-left"},null,8,["onClick"])])):x("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"]),ae(s(ne,{props:a},{default:l(()=>[s(p,{colspan:"100%"},{default:l(()=>[i("div",null,[s(r(le),{station:a.row},null,8,["station"])])]),_:2},1024)]),_:2},1032,["props"]),[[je,a.expand]])]),_:1},8,["rows","columns","filter","pagination"])]))}};export{Rt as default};

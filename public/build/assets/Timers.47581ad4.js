import{u as H,r as i,d as k,o as F,b as N,c as d,e as c,f as l,w as a,g as W,_ as Q,h as f,j as r,Q as j,k as G,l as v,x as J,ay as K,az as X,y as C,A as u,D as Y,C as Z,z as ee}from"./app.b1a18a50.js";import{Q as te}from"./QItemLabel.7a56d5d6.js";import{Q as le}from"./QToggle.2e912ec3.js";import{Q as ae,a as oe}from"./QSelect.73ecfed2.js";import{Q as R}from"./QBtnToggle.7d409f66.js";import{Q as se,a as re}from"./QTable.626c59ff.js";import{Q as w}from"./QTd.421a9abe.js";import"./use-checkbox.55e8ea08.js";import"./QSeparator.9b4cafbb.js";import"./QMarkupTable.84fdc6ce.js";import"./QLinearProgress.2da0bf67.js";import"./QCheckbox.f184c161.js";const ne={class:"q-ma-md"},ie=r("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[r("div",{class:"col-12 flex flex-center"},[r("span",{class:"text-h4"},"Vulnerability Windows")])],-1),ue={class:"row full-width q-pt-md justify-between"},de={class:"col-9"},me={class:"row q-gutter-sm q-pl-md"},ce={class:"text-xs"},fe={class:"col-auto"},pe={class:"row q-pr-md q-gutter-sm"},ge={class:"row"},_e={class:"col"},ve={class:""},we=["src"],be={key:0,class:"text-blue"},xe={key:1,class:"text-red"},ye={key:2,class:""},he={key:0,class:"text-positive"},Te={key:1,class:"text-negative"},Ve={class:"text-positive"},ke={key:0},Be={__name:"Timers",setup(Qe){W(e=>({"787d4ba8":B.value}));let n=H(),p=i(1),g=i(3);const D=k(()=>Q(()=>import("./index.d6add9a1.js"),["assets/index.d6add9a1.js","assets/app.b1a18a50.js","assets/app.7b67968f.css"])),S=k(()=>Q(()=>import("./TimerCountDown.70f3d31f.js"),["assets/TimerCountDown.70f3d31f.js","assets/app.b1a18a50.js","assets/app.7b67968f.css"]));let b=i("");F(async()=>{await n.getTimerDataAll(),await n.getTimerDataAllRegion(),document.title="Evestuff - Vulnerability Windows"}),N(async()=>{});let x=i(),_=i([]),I=d(()=>x.value?n.timersRegions.filter(e=>e.text.toLowerCase().indexOf(x.value)>-1):n.timersRegions),P=(e,s,t)=>{s(()=>{x.value=e.toLowerCase(),T.value.length>0&&e&&($.value=T.value[0])})},$=i(null),h=i(),T=d(()=>h.value?n.timersRegions.filter(e=>e.text.toLowerCase().indexOf(h.value)>-1):n.timersRegions),y=d(()=>g.value==3?n.timers.filter(e=>e.color==3&&e.status==0):g.value==2?n.timers.filter(e=>e.color==2&&e.status==0):g.value==1?n.timers.filter(e=>e.color==1&&e.status==0):n.timers.filter(e=>e.status==0)),V=d(()=>p.value==1?y.value.filter(e=>e.window_station==="Open"):p.value==2?y.value.filter(e=>e.window_station==="Closed"):y.value),A=d(()=>_.value.length>0?V.value.filter(e=>!!_.value.map(s=>s.value).includes(e.region_id)):V.value),U=d(()=>A.value),q=e=>{let s=e,o=new Date(s).getTimezoneOffset()*6e4;return Date.parse(s)-o},E=i({sortBy:"progress",descending:!1,page:1,rowsPerPage:50}),L=d(()=>p.value==1?"Time Till Close":"Time Till Open"),O=i([{name:"region",align:"region",label:"Region",classes:"text-no-wrap",field:e=>e.region,format:e=>`${e}`,sortable:!1},{name:"constellation",align:"left",label:"Constellation",classes:"text-no-wrap",field:e=>e.constellation,format:e=>`${e}`,sortable:!1},{name:"system",align:"left",label:"System",classes:"text-no-wrap",field:e=>e.system,format:e=>`${e}`,sortable:!1,filter:!0},{name:"alliance",align:"left",classes:"text-no-wrap",label:"Alliance",field:e=>e.alliance,format:e=>`${e}`,sortable:!1,filter:!0},{name:"ticker",align:"left",label:"Ticker",style:"width: 5%",classes:"text-no-wrap",field:e=>e.ticker,format:e=>`${e}`,sortable:!1,filter:!0},{name:"window",label:"Window",classes:"text-no-wrap",field:e=>e.window_station,format:e=>`${e}`,sortable:!1,filter:!0},{name:"structure",label:"Structure",classes:"text-no-wrap",sortable:!1,filter:!1,field:e=>e.type,format:e=>e==32458?"IHUB":"TCU"},{name:"adm",align:"left",classes:"text-no-wrap",label:"ADM",field:e=>e.adm,format:e=>`${e}`,sortable:!1,filter:!0},{name:"progress",label:"Start/Progress",classes:"text-no-wrap",align:"center",style:"width: 25%",sortable:!1,field:e=>e.time,format:e=>`${e}`},{name:"countdown",label:"Countdown",align:"center",classes:"text-no-wrap",sortable:!1,field:e=>e.standing,format:e=>`${e}`},{name:"age",label:"Age",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.age,format:e=>`${e}`}]),B=d(()=>{let e=30;return n.size.height-e+"px"});return(e,s)=>(f(),c("div",ne,[l(se,{title:"Connections",class:"myTableWindows myRound bg-webBack",rows:U.value,columns:O.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id",dark:"",dense:"",filter:b.value,ref:"tableRef",rounded:"",pagination:E.value},{top:a(t=>[ie,r("div",ue,[r("div",de,[r("div",me,[l(j,{rounded:"",standout:"",dense:"",debounce:"300",modelValue:b.value,"onUpdate:modelValue":s[0]||(s[0]=o=>b.value=o),clearable:"",placeholder:"Search"},{append:a(()=>[l(G,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue"]),l(ae,{rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:_.value,"onUpdate:modelValue":s[1]||(s[1]=o=>_.value=o),options:I.value,label:"Region",ref:"regionDropDown",onFilter:v(P),"map-options":"","use-input":"","use-chips":"",multiple:""},{option:a(({itemProps:o,opt:m,selected:z,toggleOption:M})=>[l(J,K(X(o)),{default:a(()=>[l(C,null,{default:a(()=>[l(te,{innerHTML:m.text},null,8,["innerHTML"])]),_:2},1024),l(C,{side:""},{default:a(()=>[l(le,{"model-value":z,"onUpdate:modelValue":Ce=>M(m)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":a(o=>[l(oe,{removable:"",onRemove:m=>o.removeAtIndex(o.index),tabindex:o.tabindex,color:"webChip","text-color":"white",class:"q-ma-none"},{default:a(()=>[r("span",ce,u(o.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])])]),r("div",fe,[r("div",pe,[l(R,{modelValue:p.value,"onUpdate:modelValue":s[2]||(s[2]=o=>p.value=o),rounded:"",unelevated:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Open",value:1},{label:"Closed",value:2}]},null,8,["modelValue"]),l(R,{modelValue:g.value,"onUpdate:modelValue":s[3]||(s[3]=o=>g.value=o),rounded:"",unelevated:"",clearable:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Goon",value:3},{label:"Friendly",value:2},{label:"Hostile",value:1}]},null,8,["modelValue"])])])])]),"header-cell-progress":a(t=>[l(re,{props:t},{default:a(()=>[r("div",ge,[r("div",_e,[r("span",null,u(L.value),1)])])]),_:2},1032,["props"])]),"body-cell-alliance":a(t=>[l(w,{props:t},{default:a(()=>[r("div",ve,[l(Y,{size:"lg",class:"q-pr-xl"},{default:a(()=>[r("img",{src:t.row.url},null,8,we)]),_:2},1024),t.row.color>=2?(f(),c("span",be,u(t.row.alliance),1)):t.row.color==1?(f(),c("span",xe,u(t.row.alliance),1)):(f(),c("span",ye,u(t.row.alliance),1))])]),_:2},1032,["props"])]),"body-cell-window":a(t=>[l(w,{props:t},{default:a(()=>[t.row.window_station==="Open"?(f(),c("span",he,u(t.value),1)):(f(),c("span",Te,u(t.value),1))]),_:2},1032,["props"])]),"body-cell-countdown":a(t=>[l(w,{props:t},{default:a(()=>[l(v(S),{row:t.row},null,8,["row"])]),_:2},1032,["props"])]),"body-cell-age":a(t=>[l(w,{props:t},{default:a(()=>[l(v(D),{class:"q-pl-sm",time:v(q)(t.row.age),interval:6e4},{default:a(({hours:o,days:m})=>[r("span",Ve,[m!=0?(f(),c("span",ke,u(m)+" Days - ",1)):Z("",!0),ee(" "+u(o)+" Hours ",1)])]),_:2},1032,["time"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","pagination"])]))}};export{Be as default};

import{u as P,r as i,c as b,h as A,e as I,f as e,m as v,w as a,q as B,aD as g,j as m,Q as U,l as s,x as E,bk as M,y as Q,A as O,aE as j,v as h,ab as q,G as w}from"./app.94516e8c.js";import{Q as F}from"./QItemLabel.e6717fed.js";import{Q as H}from"./QToggle.c77609b1.js";import{Q as R}from"./QChip.22faebdf.js";import{Q as $}from"./QSelect.c035ddb5.js";import"./use-checkbox.910db886.js";const N=m("h4",{class:"no-margin"},"Make your Inital-Campaign Here",-1),z={class:"text-xs"},te={__name:"AddStartCampaign",setup(G){let o=P(),p=i(!1),r=i(),c=i(),u=i([]),_=b(()=>c.value?o.constellationlist.filter(l=>l.text.toLowerCase().indexOf(c.value)>-1):o.constellationlist),y=(l,n,t)=>{n(()=>{c.value=l.toLowerCase(),x.value.length>0&&l&&(k.value=x.value[0])})},k=i(null),f=i(),x=b(()=>f.value?o.constellationlist.filter(l=>l.text.toLowerCase().indexOf(f.value)>-1):o.constellationlist),V=l=>l.standing<0?"red":l.standing>0?"blue":"webChip",S=l=>{if(l.standing>=2)return"bg-blue";if(l.standing==1)return"bg-red"},T=async()=>{await axios({method:"POST",url:"/api/startcampaigns/"+r.value,withCredentials:!0,data:u.value,headers:{Accept:"application/json","Content-Type":"application/json"}}),o.getStartCampaigns(),o.getStartCampaignJoinData(),C()},C=()=>{r.value=null,u.value=[]};return(l,n)=>(A(),I("div",null,[e(v,{color:"positive",class:"myOutLineButton",label:"Add",push:"",size:"xs",rounded:"",onClick:n[0]||(n[0]=t=>p.value=!0)}),e(q,{modelValue:p.value,"onUpdate:modelValue":n[3]||(n[3]=t=>p.value=t),persistent:""},{default:a(()=>[e(B,{class:"myRoundTop",style:{width:"1500px","max-width":"80vw"}},{default:a(()=>[e(g,{class:"bg-primary text-h5 text-center"},{default:a(()=>[N]),_:1}),e(g,null,{default:a(()=>[m("div",null,[e(U,{class:"q-mb-md",modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=t=>r.value=t),type:"text",label:"Title",rounded:"",dense:"",outlined:"",autofocus:""},null,8,["modelValue"])]),m("div",null,[e($,{rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=t=>u.value=t),options:_.value,label:"Constellation",ref:"constellationDropDown",onFilter:s(y),"map-options":"","use-input":"",clearable:"","use-chips":"",multiple:""},{option:a(({itemProps:t,opt:d,selected:D,toggleOption:L})=>[e(E,M(t,{class:s(S)(d)}),{default:a(()=>[e(Q,null,{default:a(()=>[e(F,{innerHTML:d.text},null,8,["innerHTML"])]),_:2},1024),e(Q,{side:""},{default:a(()=>[e(H,{"model-value":D,"onUpdate:modelValue":J=>L(d)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040,["class"])]),"selected-item":a(t=>[e(R,{removable:"",onRemove:d=>t.removeAtIndex(t.index),tabindex:t.tabindex,color:s(V)(t.opt),"text-color":"white",class:"q-ma-none"},{default:a(()=>[m("span",z,O(t.opt.text),1)]),_:2},1032,["onRemove","tabindex","color"])]),_:1},8,["modelValue","options","onFilter"])])]),_:1}),e(j,{align:"right"},{default:a(()=>[h(e(v,{rounded:"",color:"primary",label:"Submit",onClick:s(T)},null,8,["onClick"]),[[w]]),h(e(v,{rounded:"",color:"negative",label:"Close",onClick:s(C)},null,8,["onClick"]),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{te as default};

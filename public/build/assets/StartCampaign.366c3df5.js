import{b as x,e as S,f as k,d as r,_ as c,g as T,h as E,r as d,j as A,o as B,c as D,a as t,w as o,k as n,A as I,u as l,m,ba as R}from"./app.51849a21.js";import{b as p,Q as V}from"./QTable.291ae8d8.js";import"./QCheckbox.275d246d.js";const $={class:"q-ma-md"},N={class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},P={class:"col-12 flex flex-center"},j=n("span",{class:"text-h4"},"Initial Campaigns",-1),q={class:"row justify-end items-baseline"},L={class:"col-auto"},Q={class:"col-auto"},U={__name:"StartCampaign",setup(z){x(e=>({fafe2362:b.value}));let a=S(),u=k();const _=r(()=>c(()=>import("./AddStartCampaign.f964389c.js"),["assets/AddStartCampaign.f964389c.js","assets/app.51849a21.js","assets/app.c946f8eb.css","assets/QCheckbox.275d246d.js","assets/QToggle.74ec403f.js"])),g=r(()=>c(()=>import("./StartSystemItemList.59735a91.js"),["assets/StartSystemItemList.59735a91.js","assets/QCheckbox.275d246d.js","assets/app.51849a21.js","assets/app.c946f8eb.css"]));T(async()=>{a.getConstellationList(),a.getStartCampaigns(),i(),Echo.private("startcampaigns").listen("StartcampaignUpdate",e=>{a.getStartCampaigns(),i()})}),E(async()=>{Echo.leave("startcampaigns")});let i=()=>{a.getStartCampaignJoinData()},f=async e=>{await R({method:"delete",url:"/api/startcampaigns/"+e.id,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}),a.getStartCampaigns()},h=d({descending:!1,page:1,rowsPerPage:0}),w=d([{name:"name",align:"left",required:!1,label:"Name",classes:"text-no-wrap",field:e=>e.name,format:e=>`${e}`,sortable:!1},{name:"system",required:!0,align:"center",label:"Constellations - Target",field:e=>e.system,format:e=>`${e}`,sortable:!1,filter:!0},{name:"actions",align:"right",classes:"text-no-wrap",label:"",field:e=>e.id,format:e=>`${e}`,sortable:!1,filter:!0}]),C=e=>{console.log(e),u.push({path:`/scampaign/${e.link}`})},b=A(()=>{let e=50;return a.size.height-e+"px"});return(e,y)=>(B(),D("div",$,[t(V,{title:"Connections",class:"myCustomTables myRound bg-webBack",rows:l(a).startcampaigns,columns:w.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","no-data-label":"No Starting Campaigns","row-key":"id",dark:"",dense:"",ref:"tableRef",rounded:"",pagination:h.value},{top:o(s=>[n("div",N,[n("div",P,[j,I(),t(l(_))])])]),"body-cell-system":o(s=>[t(p,{props:s},{default:o(()=>[t(l(g),{campaignID:s.row.id},null,8,["campaignID"])]),_:2},1032,["props"])]),"body-cell-actions":o(s=>[t(p,null,{default:o(()=>[n("div",q,[n("div",L,[t(m,{color:"negative",icon:"fa-solid fa-trash-can",flat:"",size:"sm",round:"",onClick:v=>l(f)(s.row)},null,8,["onClick"])]),n("div",Q,[t(m,{color:"primary",rounded:"",size:"sm",label:"view",onClick:v=>l(C)(s.row)},null,8,["onClick"])])])]),_:2},1024)]),_:1},8,["rows","columns","pagination"])]))}};export{U as default};

import{u as P,d as b,_ as x,r as f,c as m,h as s,e as p,f as e,w as t,j as u,m as n,l,p as A,s as D,q as Q,aD as j,Q as L,aE as B,v as k,aP as O,n as T,G as _}from"./app.dfade935.js";import{Q as F}from"./QTable.7b067937.js";import"./QSeparator.b3aa1024.js";import"./QMarkupTable.d9846ae1.js";import"./QSelect.6f440bb9.js";import"./QItemLabel.f6b8eff0.js";import"./QLinearProgress.aea396b0.js";import"./QCheckbox.3f3dd5fb.js";import"./use-checkbox.ca237dc1.js";const V={class:"row full-width"},N={class:"col-auto"},$={class:"col-auto"},E={key:0},z={key:1},X={__name:"OperationInfoFleetCard",setup(R){const a=P(),v=b(()=>x(()=>import("./OperationInfoFleetSoloCard.98b6fad4.js"),["assets/OperationInfoFleetSoloCard.98b6fad4.js","assets/app.dfade935.js","assets/app.4fce15f2.css","assets/QTooltip.ac141833.js","assets/QSelect.6f440bb9.js","assets/QItemLabel.f6b8eff0.js","assets/QSeparator.b3aa1024.js"]));let g=f({sortBy:"id",descending:!1,page:1,rowsPerPage:0}),r=f(null),w=async()=>{var c={link:r.value,opID:a.operationInfoPage.id};console.log(a.operationInfoPage.id),await axios({method:"post",url:"/api/operationdanklink",withCredentials:!0,data:c,headers:{Accept:"application/json","Content-Type":"application/json"}})},y=async()=>{console.log(a.operationInfoPage.id),await axios({method:"delete",url:"/api/operationdanklink/"+a.operationInfoPage.id,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},h=m(()=>a.operationInfoPage.dankop?a.operationInfoPage.dankop.name:"No Dank Link"),C=m(()=>!(a.operationInfoPage.dankop&&a.operationInfoPage.dankop.link)),I=async()=>{await axios({method:"post",url:"/api/operationinfofleet/"+a.operationInfoPage.id,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})};return(c,o)=>(s(),p("div",null,[e(F,{title:"Connections",class:"myOperationFleetTable myRound",rows:l(a).operationInfoPage.fleets,"table-class":" text-webway","row-key":"id","no-data-label":"Not Fleets",ref:"tableRef",rounded:"",grid:"","card-container-class":"justify-evenly overflow-auto ","hide-header":"","hide-bottom":"",pagination:g.value},{top:t(d=>[u("div",V,[u("div",N,[e(n,{color:"primary","icon-right":"fa-solid fa-plus",label:"Add Fleet",flat:"",onClick:o[0]||(o[0]=i=>l(I)())})]),u("div",$,[C.value?(s(),p("span",E,[e(n,{color:"primary","icon-right":"fa-solid fa-plus",label:"Add Dank Operation Link",flat:""},{default:t(()=>[e(A,{onBeforeHide:o[3]||(o[3]=i=>r.value=null)},{default:t(()=>[e(D,{style:{"min-width":"100px"}},{default:t(()=>[e(Q,{class:"my-card"},{default:t(()=>[e(j,null,{default:t(()=>[e(L,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=i=>r.value=i),rounded:"",outlined:"",type:"text",label:"Dank Link"},null,8,["modelValue"])]),_:1}),e(B,{align:"center"},{default:t(()=>[k(e(n,{rounded:"",onClick:o[2]||(o[2]=i=>l(w)()),color:"positive",label:"Add"},null,512),[[_]]),k(e(n,{rounded:"",color:"negative",label:"close"},null,512),[[_]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):(s(),p("span",z,[e(n,{color:"primary",flat:"",label:h.value,href:l(a).operationInfoPage.dankop.link,target:"_blank"},null,8,["label","href"]),e(n,{round:"",padding:"none",flat:"",size:"sm",color:"warning",icon:"fa-solid fa-trash-alt",onClick:o[4]||(o[4]=i=>l(y)())})]))])])]),item:t(d=>[e(O,{appear:"",name:"fade","enter-active-class":"animate__animated animate__zoomIn animate__slow","leave-active-class":"animate__animated animate__zoomOut animate__slow"},{default:t(()=>[(s(),T(l(v),{class:"q-pa-xs",key:`${d.row.id}-card`,fleet:d.row},null,8,["fleet"]))]),_:2},1024)]),_:1},8,["rows","pagination"])]))}};export{X as default};

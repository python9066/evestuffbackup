import{g as S,u as k,a as T,d as r,_ as c,o as E,b as B,r as m,c as D,h as I,e as R,z as d,f as t,w as n,j as o,l as i,m as p,aX as V}from"./app.3c714d19.js";import{Q as u}from"./QTd.cf1affc6.js";import{Q as $}from"./QTable.d4337d29.js";import"./QSeparator.b5ef02f9.js";import"./QMarkupTable.8010a9ce.js";import"./QSelect.805bca05.js";import"./QItemLabel.b5c7c59a.js";import"./QLinearProgress.e81ff9bf.js";import"./QCheckbox.dc26cec2.js";import"./use-checkbox.a7fe4e4b.js";const A={class:"q-ma-md"},N={class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},P={class:"col-12 flex flex-center"},Q=o("span",{class:"text-h4"},"Initial Campaigns",-1),j={class:"row justify-end items-baseline"},q={class:"col-auto"},z={class:"col-auto"},Y={__name:"StartCampaign",setup(L){S(a=>({afdf7280:y.value}));let e=k(),_=T();const g=r(()=>c(()=>import("./AddStartCampaign.68ae300d.js"),["assets/AddStartCampaign.68ae300d.js","assets/app.3c714d19.js","assets/app.4fce15f2.css","assets/QItemLabel.b5c7c59a.js","assets/QToggle.2a9edbe2.js","assets/use-checkbox.a7fe4e4b.js","assets/QSelect.805bca05.js"])),f=r(()=>c(()=>import("./StartSystemItemList.ca02407c.js"),["assets/StartSystemItemList.ca02407c.js","assets/QSelect.805bca05.js","assets/app.3c714d19.js","assets/app.4fce15f2.css","assets/QItemLabel.b5c7c59a.js"]));E(async()=>{e.getConstellationList(),e.getStartCampaigns(),l(),Echo.private("startcampaigns").listen("StartcampaignUpdate",a=>{e.getStartCampaigns(),l()})}),B(async()=>{Echo.leave("startcampaigns")});let l=()=>{e.getStartCampaignJoinData()},h=async a=>{await V({method:"delete",url:"/api/startcampaigns/"+a.id,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}),e.getStartCampaigns()},w=m({descending:!1,page:1,rowsPerPage:0}),C=m([{name:"name",align:"left",required:!1,label:"Name",classes:"text-no-wrap",field:a=>a.name,format:a=>`${a}`,sortable:!1},{name:"system",required:!0,align:"center",label:"Constellations - Target",field:a=>a.system,format:a=>`${a}`,sortable:!1,filter:!0},{name:"actions",align:"right",classes:"text-no-wrap",label:"",field:a=>a.id,format:a=>`${a}`,sortable:!1,filter:!0}]),b=a=>{_.push({path:`/scampaign/${a.link}`})},y=D(()=>{let a=50;return e.size.height-a+"px"});return(a,v)=>(I(),R("div",A,[d(" dance "),t($,{title:"Connections",class:"myCustomTables myRound bg-webBack",rows:i(e).startcampaigns,columns:C.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","no-data-label":"No Starting Campaigns","row-key":"id",dark:"",dense:"",ref:"tableRef",rounded:"",pagination:w.value},{top:n(s=>[o("div",N,[o("div",P,[Q,d(),t(i(g))])])]),"body-cell-system":n(s=>[t(u,{props:s},{default:n(()=>[t(i(f),{campaignID:s.row.id},null,8,["campaignID"])]),_:2},1032,["props"])]),"body-cell-actions":n(s=>[t(u,null,{default:n(()=>[o("div",j,[o("div",q,[t(p,{color:"negative",icon:"fa-solid fa-trash-can",flat:"",size:"sm",round:"",onClick:x=>i(h)(s.row)},null,8,["onClick"])]),o("div",z,[t(p,{color:"primary",rounded:"",size:"sm",label:"view",onClick:x=>i(b)(s.row)},null,8,["onClick"])])])]),_:2},1024)]),_:1},8,["rows","columns","pagination"])]))}};export{Y as default};

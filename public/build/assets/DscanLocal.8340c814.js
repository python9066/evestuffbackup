import{u as oe,r as k,c as v,h as n,e as s,j as d,f as o,w as t,aD as m,z as E,A as u,B as _,l as f,be as Q,s as S,F as C,t as $,n as c,D as g,aP as j,C as V,x,aB as A,q as L,aE as q,v as T,m as P,ab as R,G as U}from"./app.e7a0ad3b.js";import{Q as w}from"./QImg.a83bf66f.js";const re={class:"row justify-around"},se={class:"col"},ce={class:"col"},ie={class:"col"},ue=d("div",{class:"col"},null,-1),de={class:"q-ml-sm"},fe={class:"row full-width justify-start items-baseline"},ve={class:"col-auto"},me={class:"col-auto q-pl-lg"},_e={class:"q-ml-sm"},pe={class:"row full-width justify-start items-baseline"},ye={class:"col-auto"},ge={class:"col-auto q-pl-lg"},ke={__name:"DscanLocal",setup(we){let r=oe(),p=k(null),O=k(!1),y=k(null),D=k(!1),F=a=>{p.value=a,O.value=!0},G=v(()=>{if(p.value)return r.dScan.locals.filter(a=>a.corp.alliance_id==p.value.details.id).sort((a,l)=>a.name.localeCompare(l.name))}),M=a=>{y.value=a,D.value=!0},H=v(()=>{if(y.value)return r.dScan.locals.filter(a=>a.corp_id==y.value.details.id).sort((a,l)=>a.name.localeCompare(l.name))}),I=a=>`https://imageserver.eveonline.com/Character/${a}_64.jpg`,N=a=>{if(a.new)return"bg-positive";if(a.left)return"bg-negative"},J=v(()=>{let a=0;return Object.values(r.dScanLocalAlliance).length==0?0:(Object.values(r.dScanLocalAlliance).forEach(l=>{a+=l.new}),a)}),K=v(()=>{let a=0;return Object.values(r.dScanLocalAlliance).length==0?0:(Object.values(r.dScanLocalAlliance).forEach(l=>{a+=l.left}),a)}),W=v(()=>{let a=0;return Object.values(r.dScanLocalAlliance).length==0?0:(Object.values(r.dScanLocalAlliance).forEach(l=>{a+=l.same}),a)}),X=v(()=>{let a=0;return Object.values(r.dScanLocalAlliance).length==0?0:(Object.values(r.dScanLocalAlliance).forEach(l=>{a+=l.totalInSystem}),a)}),z=v(()=>{var a=J.value,l=K.value*-1,e=W.value;if(e>0)var i=a+l;else var i=0;return i}),Y=v(()=>{let a=0;return Object.values(r.dScanLocalCorp).length==0?0:(Object.values(r.dScanLocalCorp).forEach(l=>{a+=l.new}),a)}),Z=v(()=>{let a=0;return Object.values(r.dScanLocalCorp).length==0?0:(Object.values(r.dScanLocalCorp).forEach(l=>{a+=l.left}),a)}),ee=v(()=>{let a=0;return Object.values(r.dScanLocalCorp).length==0?0:(Object.values(r.dScanLocalCorp).forEach(l=>{a+=l.same}),a)}),ae=v(()=>{let a=0;return Object.values(r.dScanLocalCorp).length==0?0:(Object.values(r.dScanLocalCorp).forEach(l=>{a+=l.totalInSystem}),a)}),B=v(()=>{var a=Y.value,l=Z.value*-1,e=ee.value;if(e>0)var i=a+l;else var i=0;return i}),b=a=>a>0?"text-green":a<0?"text-red":"text-white",le=a=>{if(a==10)return"bg-blue-10";if(a>=5)return"bg-blue-5";if(a>0)return"bg-blue-2";if(a==0)return"";if(a>=-5)return"bg-red-5";if(a<-5)return"bg-red-10"},te=a=>{var l=0,e=a.standing?a.standing:0,i=a.alliance?a.alliance.standing:0;if(e>=i?l=e:l=i,l==10)return"bg-blue-10";if(l>=5)return"bg-blue-5";if(l>0)return"bg-blue-2";if(l==0)return"";if(l>=-5)return"bg-red-5";if(l<-5)return"bg-red-10"},h=v(()=>{let a=135;return"max-height:"+(r.size.height-a+"px")});return(a,l)=>(n(),s("div",null,[d("div",re,[d("div",se,[o(L,{class:"my-card overflow-auto",style:A(h.value)},{default:t(()=>[o(m,{class:"q-py-none text-center"},{default:t(()=>[E(" All Alliances - "+u(X.value)+" ",1),d("span",{class:_(f(b)(z.value))}," ("+u(z.value)+")",3)]),_:1}),o(m,null,{default:t(()=>[o(Q,{mode:"out-in","enter-active-class":"animate__animated animate__bounceIn animate__slower","leave-active-class":"animate__animated animate__bounceOut animate__slower"},{default:t(()=>[o(S,{bordered:"",dense:""},{default:t(()=>[(n(!0),s(C,null,$(f(r).dScanLocalAlliance,(e,i)=>(n(),c(x,{clickable:"",class:_([[f(le)(e.details.standing),{ownD:!e.totalInSystem}],"cursor-pointer"]),key:i,onClick:ne=>f(F)(e)},{default:t(()=>[(n(),s("div",{class:"row full-width justify-between items-center",key:`${e.id}-row-alliance`},[d("div",ce,[(n(),c(g,{size:"32px",key:`${e.id}-ave-alliance`},{default:t(()=>[(n(),c(w,{src:e.details.url,key:`${e.id}-img-alliance`},null,8,["src"]))]),_:2},1024))]),(n(),s("div",{class:"col",key:`${e.id}-ticket-col-alliance`},[(n(),s("span",{key:`${e.id}-row-ticker-alliance`},u(e.details.ticker),1))])),(n(),s("div",{class:"col",key:`${e.id}-totalinsystem-col-alliance`},[o(j,{mode:"out-in","enter-active-class":"animate__animated animate__flash "},{default:t(()=>[(n(),s("span",{key:`${e.totalInSystem}${e.id}-row-totalinsystem-alliance`},u(e.totalInSystem),1))]),_:2},1024),o(j,{mode:"out-in","enter-active-class":"animate__animated animate__flash "},{default:t(()=>[e.diff?(n(),s("span",{class:_(f(b)(e.diff)),key:`${e.totalInSystem}${e.id}-row-diffNumber`}," ("+u(e.diff)+")",3)):V("",!0)]),_:2},1024)]))]))]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])]),d("div",ie,[o(L,{class:"my-card"},{default:t(()=>[o(m,{class:"q-py-none text-center"},{default:t(()=>[E(" All Corporations - "+u(ae.value)+" ",1),d("span",{class:_(f(b)(B.value))}," ("+u(B.value)+")",3)]),_:1}),o(m,{class:"overflow-auto",style:A(h.value)},{default:t(()=>[o(S,{bordered:"",dense:""},{default:t(()=>[o(Q,{mode:"out-in","enter-active-class":"animate__animated animate__bounceIn animate__slower","leave-active-class":"animate__animated animate__bounceOut animate__slower"},{default:t(()=>[(n(!0),s(C,null,$(f(r).dScanLocalCorp,(e,i)=>(n(),c(x,{clickable:"",class:_([f(te)(e.details),{ownD:!e.totalInSystem}]),key:i,onClick:ne=>f(M)(e)},{default:t(()=>[(n(),s("div",{key:`${e.id}-row-corp`,class:"row full-width justify-between items-center"},[(n(),s("div",{class:"col",key:`${e.id}-avatar-col-corp`},[(n(),c(g,{size:"32px",key:`${e.id}-avatar-corp`},{default:t(()=>[(n(),c(w,{key:`${e.id}-img-corp`,src:e.details.url},null,8,["src"]))]),_:2},1024))])),(n(),s("div",{class:"col",key:`${e.id}-ticket-col-corp`},[(n(),s("span",{key:`${e.id}-row-ticker-corp`},u(e.details.ticker),1))])),(n(),s("div",{class:"col",key:`${e.id}-totalinsystem-col-corp`},[o(j,{mode:"out-in","enter-active-class":"animate__animated animate__flash "},{default:t(()=>[(n(),s("span",{key:`${e.totalInSystem}${e.id}-row-totalinsystem-corp`},u(e.totalInSystem),1))]),_:2},1024),o(j,{mode:"out-in","enter-active-class":"animate__animated animate__flash "},{default:t(()=>[e.diff?(n(),s("span",{class:_(f(b)(e.diff)),key:`${e.totalInSystem}${e.id}-row-diffNumber-corp`}," ("+u(e.diff)+")",3)):V("",!0)]),_:2},1024)]))]))]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})]),ue]),o(R,{modelValue:O.value,"onUpdate:modelValue":l[0]||(l[0]=e=>O.value=e),persistent:""},{default:t(()=>[o(L,{class:"myRoundTop",style:{"min-width":"20vw","max-width":"30vw"}},{default:t(()=>[o(m,{class:"row items-center"},{default:t(()=>[(n(),c(g,{size:"32px",key:`${p.value.id}-ave-alliance-dialog`},{default:t(()=>[(n(),c(w,{src:p.value.details.url,key:`${p.value.id}-img-alliance-dialog`},null,8,["src"]))]),_:1})),d("span",de,"Pilots in "+u(p.value.details.ticker)+".",1)]),_:1}),o(m,{class:"overflow-auto",style:A(h.value)},{default:t(()=>[o(S,{bordered:"",dense:""},{default:t(()=>[(n(!0),s(C,null,$(G.value,(e,i)=>(n(),c(x,{key:i,dense:"",class:_(f(N)(e.pivot))},{default:t(()=>[d("div",fe,[d("div",ve,[(n(),c(g,{size:"32px",key:`${e.id}-ave-alliance-dialog-list`},{default:t(()=>[(n(),c(w,{src:e.corp.url,key:`${e.id}-img-alliance-dialog-list`},null,8,["src"]))]),_:2},1024)),(n(),c(g,{size:"32px",key:`${e.id}-ave-alliance-dialog-list`},{default:t(()=>[(n(),c(w,{src:f(I)(e.id),key:`${e.id}-img-alliance-dialog-list`},null,8,["src"]))]),_:2},1024))]),d("div",me,u(e.name)+" - "+u(e.corp.ticker),1)])]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["style"]),o(q,{align:"right"},{default:t(()=>[T(o(P,{rounded:"",label:"close",color:"negative"},null,512),[[U]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(R,{modelValue:D.value,"onUpdate:modelValue":l[1]||(l[1]=e=>D.value=e),persistent:""},{default:t(()=>[o(L,{class:"myRoundTop",style:{"min-width":"20vw","max-width":"30vw"}},{default:t(()=>[o(m,{class:"row items-center"},{default:t(()=>[(n(),c(g,{size:"32px",key:`${y.value.id}-ave-alliance-dialog`},{default:t(()=>[(n(),c(w,{src:y.value.details.url,key:`${y.value.id}-img-alliance-dialog`},null,8,["src"]))]),_:1})),d("span",_e,"Pilots in "+u(y.value.details.ticker)+".",1)]),_:1}),o(m,{class:"overflow-auto",style:A(h.value)},{default:t(()=>[o(S,{bordered:"",dense:""},{default:t(()=>[(n(!0),s(C,null,$(H.value,(e,i)=>(n(),c(x,{key:i,dense:"",class:_(f(N)(e.pivot))},{default:t(()=>[d("div",pe,[d("div",ye,[(n(),c(g,{size:"32px",key:`${e.id}-ave-alliance-dialog-list`},{default:t(()=>[(n(),c(w,{src:f(I)(e.id),key:`${e.id}-img-alliance-dialog-list`},null,8,["src"]))]),_:2},1024))]),d("div",ge,u(e.name)+" - "+u(e.corp.ticker),1)])]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["style"]),o(q,{align:"right"},{default:t(()=>[T(o(P,{rounded:"",label:"close",color:"negative"},null,512),[[U]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{ke as default};

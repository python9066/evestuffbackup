import{u as Re,i as Ve,aA as Fe,r as _,d as y,o as Pe,b as Qe,c as d,e as C,f as n,w as l,g as Ae,_ as v,h as c,j as r,l as o,n as w,C as h,Q as Ee,k as Be,x as T,ay as $,az as D,y as g,A as m,p as qe,q as $e,s as De,F as Ie,t as Me,v as Z,z as L,m as I,D as M,B as ee,aB as Ue,G as Oe,R as We}from"./app.b8bc639a.js";import{Q as U}from"./QItemLabel.65cea28b.js";import{Q as O}from"./QToggle.cf0cba15.js";import{Q as W,a as j}from"./QSelect.2a457a6e.js";import{Q as je,a as ze}from"./QTable.9ca148f2.js";import{Q as p}from"./QTd.b9eedba1.js";import{Q as te}from"./QTr.91d3a6df.js";import{c as He}from"./copy-to-clipboard.d88da222.js";import"./use-checkbox.93d37e49.js";import"./QSeparator.7f571c71.js";import"./QMarkupTable.d8dc2097.js";import"./QLinearProgress.ceb52d52.js";import"./QCheckbox.c77fa795.js";const Ne={class:"q-ma-md"},Ke={class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},Ge=r("div",{class:"col-11 flex flex-center"},[r("span",{class:"text-h4"},"Stations")],-1),Je={class:"col-1 flex justify-end"},Xe={class:"row full-width q-pt-md justify-between"},Ye={class:"col-12"},Ze={class:"row q-gutter-sm q-pl-md"},et={class:"col-1"},tt={class:"col-2"},at={class:"text-xs"},st={class:"col-4"},nt={class:"text-xs"},lt={class:"col-4"},ot={class:"text-xs"},rt=r("div",{class:"row"},[r("div",{class:"col"},[r("span",{class:"myFont"},"Webway")])],-1),it={class:"row"},ut={class:"col"},dt={key:1},mt=["onClick"],ct=["src"],pt={key:0},_t=["src"],ft=["src"],yt={class:"row"},vt={class:"col"},gt={class:"col"},wt={class:"col"},ht={key:0,class:"col"},Bt={__name:"StationSheet",setup(bt){Ae(e=>({"0ac767a3":Te.value}));let u=Re(),R=Ve("can");const ae=Fe();let V=_("");const se=y(()=>v(()=>import("./SoloCampaginWebWay.3c9eea81.js"),["assets/SoloCampaginWebWay.3c9eea81.js","assets/app.b8bc639a.js","assets/app.7b67968f.css"])),ne=y(()=>v(()=>import("./StationSheetLogs.0d439c25.js"),["assets/StationSheetLogs.0d439c25.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QTd.b9eedba1.js","assets/QTr.91d3a6df.js","assets/QTable.9ca148f2.js","assets/QSeparator.7f571c71.js","assets/QMarkupTable.d8dc2097.js","assets/QSelect.2a457a6e.js","assets/QItemLabel.65cea28b.js","assets/QLinearProgress.ceb52d52.js","assets/QCheckbox.c77fa795.js","assets/use-checkbox.93d37e49.js"])),le=y(()=>v(()=>import("./SettingPannel.c9c9fe23.js"),["assets/SettingPannel.c9c9fe23.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QItemLabel.65cea28b.js","assets/QToggle.cf0cba15.js","assets/use-checkbox.93d37e49.js","assets/QSelect.2a457a6e.js"])),oe=y(()=>v(()=>import("./StatusButton.063a7676.js"),["assets/StatusButton.063a7676.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QSeparator.7f571c71.js"])),re=y(()=>v(()=>import("./StationSheetInfo.b446d84e.js"),["assets/StationSheetInfo.b446d84e.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QSelect.2a457a6e.js","assets/QItemLabel.65cea28b.js","assets/QTd.b9eedba1.js","assets/QTable.9ca148f2.js","assets/QSeparator.7f571c71.js","assets/QMarkupTable.d8dc2097.js","assets/QLinearProgress.ceb52d52.js","assets/QCheckbox.c77fa795.js","assets/use-checkbox.93d37e49.js"])),ie=y(()=>v(()=>import("./RcStationMessage.fa63f8dc.js"),["assets/RcStationMessage.fa63f8dc.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QBadge.97e3edf6.js","assets/QChatMessage.795b9995.js","assets/RcStationMessage.ef1b6d44.css"])),ue=y(()=>v(()=>import("./AddStation.1d206b7f.js"),["assets/AddStation.1d206b7f.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QTabPanels.81a24c88.js","assets/QSelect.2a457a6e.js","assets/QItemLabel.65cea28b.js","assets/QSeparator.7f571c71.js","assets/QOptionGroup.59156b95.js","assets/QRadio.f5fcb3ac.js","assets/use-checkbox.93d37e49.js","assets/QCheckbox.c77fa795.js","assets/QToggle.cf0cba15.js"]));Pe(async()=>{await u.getStationRegionLists(),await u.getStationList(),await u.getWebwayStartSystems(),Echo.private("stationsheet").listen("StationSheetUpdate",e=>{e.flag.message!=null&&u.updateStationList(e.flag.message),e.flag.flag==1&&u.getStationRegionLists(),e.flag.flag==2&&u.getStationList(),e.flag.flag==3}).listen("StationDeadStationSheet",e=>{u.deleteStationSheetNotification(e.flag.id)}).listen("StationSheetUpdateWebway",e=>{de(e.flag.id)}).listen("StationSheetMessageUpdate",e=>{u.updateStationList(e.flag.message)}),document.title="Evestuff - Stations"}),Qe(async()=>{Echo.leave("stationsheet")});let de=e=>{axios({method:"put",url:"/api/stationsheetupdatewebway/"+e,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},F=()=>{},b=_([]),P=_(),z=d(()=>{var e=u.stationList.map(t=>({id:t.system.region.id,name:t.system.region.region_name}));const s=[],a=new Map;for(const t of e)a.has(t.id)||(a.set(t.id,!0),s.push({value:t.id,text:t.name}));return s.sort((t,i)=>t.text.localeCompare(i.text)),s}),Q=d(()=>P.value?z.value.filter(e=>e.text.toLowerCase().indexOf(P.value)>-1):z.value),me=(e,s,a)=>{s(()=>{P.value=e.toLowerCase(),Q.value.length>0&&e&&(b.value=Q.value[0])})},x=_([]),A=_(),H=d(()=>{var e=u.stationList.map(t=>({id:t.system.constellation.id,name:t.system.constellation.constellation_name}));const s=[],a=new Map;for(const t of e)a.has(t.id)||(a.set(t.id,!0),s.push({value:t.id,text:t.name}));return s.sort((t,i)=>t.text.localeCompare(i.text)),s}),E=d(()=>A.value?H.value.filter(e=>e.text.toLowerCase().indexOf(A.value)>-1):H.value),ce=(e,s,a)=>{s(()=>{A.value=e.toLowerCase(),E.value.length>0&&e&&(x.value=E.value[0])})},S=_([]),B=_(),N=d(()=>{var e=u.stationList.map(t=>({id:t.item.id,type:t.item.item_name}));const s=[],a=new Map;for(const t of e)a.has(t.id)||(a.set(t.id,!0),s.push({value:t.id,text:t.type}));return s.sort((t,i)=>t.text.localeCompare(i.text)),s}),q=d(()=>B.value?N.value.filter(e=>e.text.toLowerCase().indexOf(B.value)>-1):N.value),pe=(e,s,a)=>{s(()=>{B.value=e.toLowerCase(),q.value.length>0&&e&&(S.value=q.value[0])})},K=d(()=>b.value.length>0?u.stationList.filter(e=>!!b.value.map(s=>s.value).includes(e.system.region.id)):u.stationList),G=d(()=>x.value.length>0?K.value.filter(e=>!!x.value.map(s=>s.value).includes(e.system.constellation.id)):K.value),_e=d(()=>S.value.length>0?G.value.filter(e=>!!S.value.map(s=>s.value).includes(e.item_id)):G.value),fe=e=>"https://images.evetech.net/types/"+e+"/icon",J=e=>{if(e.system.webway){var s=e.system.webway,a=s.filter(i=>i.start_system_id==u.webwaySelectedStartSystem.value);if(a.length>0){var t=a[0].jumps;return t}else return null}else return null},ye=e=>{var s={value:e.value,text:e.text};u.updateWebwaySelectedStartSystem(s)},X=e=>{var i;if(e.system.webway){var s=e.system.webway,a=s.filter(f=>f.start_system_id==u.webwaySelectedStartSystem.value);if(a.length>0){var t=(i=a[0].webway)!=null?i:null;return t}else return null}else return null},ve=d(()=>!!(u.webwayStartSystems&&u.webwayStartSystems.length>0)),ge=d(()=>{var e=u.webwayStartSystems,s={value:30004759,text:"1DQ1-A"};return e.push(s),e.sort(function(a,t){return a.value-t.value||a.text.localeCompare(t.text)}),e}),we=e=>{var s=ge.value.filter(a=>a.value!=e);return s},he=e=>{var s=0;return e.corp.alliance?s=e.corp.alliance.standing:s=e.corp.standing,s>0?"text-blue":s<0?"text-red":""},be=e=>{var s=0;return e.corp.alliance?s=e.corp.alliance.standing:s=e.corp.standing,s>0?"text-blue":s<0?"text-red":""},xe=e=>e.item.id==37534||e.item.id==35841||e.item.id==35840?!1:e.added_from_recon==1,Se=_({sortBy:"progress",descending:!1,page:1,rowsPerPage:0}),ke=_([{name:"webway",align:"center",required:!1,label:"Webway",classes:"text-no-wrap",field:e=>e.system.webway[0]?e.system.webway[0].jumps:null,format:e=>`${e}`,sortable:!1},{name:"region",required:!0,align:"left",label:"Region",classes:"text-no-wrap",field:e=>e.system.region.region_name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"constellation",required:!0,align:"left",label:"Constellation",classes:"text-no-wrap",field:e=>e.system.constellation.constellation_name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"system",align:"left",classes:"text-no-wrap",label:"System",field:e=>e.system.system_name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"corpTicker",align:"left",required:!0,classes:"text-no-wrap",label:"Corp",field:e=>e.corp.ticker,format:e=>`${e}`,sortable:!0,filter:!0},{name:"allianceTicker",align:"left",required:!0,label:"Alliance",classes:"text-no-wrap",field:e=>e.corp.alliance?e.corp.alliance.ticker:null,format:e=>`${e}`,sortable:!0,filter:!0},{name:"type",label:"Type",align:"left",classes:"text-no-wrap",field:e=>e.item.item_name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"name",label:"Name",align:"left",classes:"text-no-wrap",field:e=>e.name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"status",label:"Status",classes:"text-no-wrap",align:"right",sortable:!0,field:e=>e.status.name,format:e=>`${e}`},{name:"actions",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`}]),Ce=e=>{He(e).then(()=>{ae.notify({type:"info",message:e+" copied to your clipboard"})})},Le=e=>e.system.region.region_name=="Black Rise"?"https://evemaps.dotlan.net/map/Black_Rise/"+e.system.system_name+"#const":e.system.region.region_name=="The Bleak Lands"?"https://evemaps.dotlan.net/map/The_Bleak_Lands/"+e.system.system_name+"#const":e.system.region.region_name=="The Citadel"?"https://evemaps.dotlan.net/map/The_Citadel/"+e.system.system_name+"#const":e.system.region.region_name=="Cloud Ring"?"https://evemaps.dotlan.net/map/Cloud_Ring/"+e.system.system_name+"#const":e.system.region.region_name=="Cobalt Edge"?"https://evemaps.dotlan.net/map/Cobalt_Edge/"+e.system.system_name+"#const":e.system.region.region_name=="Etherium Reach"?"https://evemaps.dotlan.net/map/Etherium_Reach/"+e.system.system_name+"#const":e.system.region.region_name=="The Forge"?"https://evemaps.dotlan.net/map/The_Forge/"+e.system.system_name+"#const":e.system.region.region_name=="The Kalevala Expanse"?"https://evemaps.dotlan.net/map/The_Kalevala_Expanse/"+e.system.system_name+"#const":e.system.region.region_name=="Molden Heath"?"https://evemaps.dotlan.net/map/Molden_Heath/"+e.system.system_name+"#const":e.system.region.region_name=="Outer Passage"?"https://evemaps.dotlan.net/map/Outer_Passage/"+e.system.system_name+"#const":e.system.region.region_name=="Outer Ring"?"https://evemaps.dotlan.net/map/Outer_Ring/"+e.system.system_name+"#const":e.system.region.region_name=="Paragon Soul"?"https://evemaps.dotlan.net/map/Paragon_Soul/"+e.system.system_name+"#const":e.system.region.region_name=="Period Basis"?"https://evemaps.dotlan.net/map/Period_Basis/"+e.system.system_name+"#const":e.system.region.region_name=="Perrigen Falls"?"https://evemaps.dotlan.net/map/Perrigen_Falls/"+e.system.system_name+"#const":e.system.region.region_name=="Pure Blind"?"https://evemaps.dotlan.net/map/Pure_Blind/"+e.system.system_name+"#const":e.system.region.region_name=="Scalding Pass"?"https://evemaps.dotlan.net/map/Scalding_Pass/"+e.system.system_name+"#const":e.system.region.region_name=="Sinq Laison"?"https://evemaps.dotlan.net/map/Sinq_Laison/"+e.system.system_name+"#const":e.system.region.region_name=="The Spire"?"https://evemaps.dotlan.net/map/The_Spire/"+e.system.system_name+"#const":e.system.region.region_name=="Vale of the Silent"?"https://evemaps.dotlan.net/map/Vale_of_the_Silent/"+e.system.system_name+"#const":e.system.region.region_name=="Verge Vendor"?"https://evemaps.dotlan.net/map/Verge_Vendor/"+e.system.system_name+"#const":e.system.region.region_name=="Wicked Creek"?"https://evemaps.dotlan.net/map/Wicked_Creek/"+e.system.system_name+"#const":"https://evemaps.dotlan.net/map/"+e.system.region.region_name+"/"+e.system.system_name+"#const",Te=d(()=>{let e=30;return u.size.height-e+"px"});return(e,s)=>(c(),C("div",Ne,[n(je,{title:"Connections",class:"myTableStations myRound bg-webBack",rows:_e.value,columns:ke.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id","no-data-label":"All Hostile Stations our reffed!!!!!!",dark:"",dense:"",filter:V.value,ref:"tableRef",rounded:"",pagination:Se.value},{top:l(a=>[r("div",Ke,[Ge,r("div",Je,[o(R)("access_station_sheet_setting_tab")?(c(),w(o(le),{key:0})):h("",!0)])]),r("div",Xe,[r("div",Ye,[r("div",Ze,[r("div",et,[n(Ee,{rounded:"",standout:"",dense:"",debounce:"300",modelValue:V.value,"onUpdate:modelValue":s[0]||(s[0]=t=>V.value=t),clearable:"",placeholder:"Search"},{append:l(()=>[n(Be,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue"])]),r("div",tt,[n(W,{rounded:"",dense:"",clearable:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:b.value,"onUpdate:modelValue":s[1]||(s[1]=t=>b.value=t),options:Q.value,ref:"toRegionRef",label:"Region",onFilter:o(me),onFilterAbort:o(F),"map-options":"","use-input":"","use-chips":"",multiple:"","input-style":" max-width: 10px; min-width: 10px"},{option:l(({itemProps:t,opt:i,selected:f,toggleOption:k})=>[n(T,$(D(t)),{default:l(()=>[n(g,null,{default:l(()=>[n(U,{innerHTML:i.text},null,8,["innerHTML"])]),_:2},1024),n(g,{side:""},{default:l(()=>[n(O,{"model-value":f,"onUpdate:modelValue":Y=>k(i)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(t=>[n(j,{removable:"",onRemove:i=>t.removeAtIndex(t.index),tabindex:t.tabindex,"text-color":"white",class:"q-ma-none",color:"webChip"},{default:l(()=>[r("span",at,m(t.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])]),r("div",st,[n(W,{rounded:"",clearable:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:x.value,"onUpdate:modelValue":s[2]||(s[2]=t=>x.value=t),options:E.value,ref:"toConstellationRef",label:"Constellations",onFilter:o(ce),onFilterAbort:o(F),"map-options":"","use-input":"","use-chips":"",multiple:"","input-style":" max-width: 10px; min-width: 10px"},{option:l(({itemProps:t,opt:i,selected:f,toggleOption:k})=>[n(T,$(D(t)),{default:l(()=>[n(g,null,{default:l(()=>[n(U,{innerHTML:i.text},null,8,["innerHTML"])]),_:2},1024),n(g,{side:""},{default:l(()=>[n(O,{"model-value":f,"onUpdate:modelValue":Y=>k(i)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(t=>[n(j,{removable:"",onRemove:i=>t.removeAtIndex(t.index),tabindex:t.tabindex,"text-color":"white",class:"q-ma-none",color:"webChip"},{default:l(()=>[r("span",nt,m(t.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])]),r("div",lt,[n(W,{rounded:"",clearable:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:S.value,"onUpdate:modelValue":s[3]||(s[3]=t=>S.value=t),options:q.value,ref:"typeRef",label:"Type",onFilter:o(pe),onFilterAbort:o(F),"map-options":"","use-input":"","use-chips":"",multiple:"","input-style":" max-width: 10px; min-width: 10px"},{option:l(({itemProps:t,opt:i,selected:f,toggleOption:k})=>[n(T,$(D(t)),{default:l(()=>[n(g,null,{default:l(()=>[n(U,{innerHTML:i.text},null,8,["innerHTML"])]),_:2},1024),n(g,{side:""},{default:l(()=>[n(O,{"model-value":f,"onUpdate:modelValue":Y=>k(i)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(t=>[n(j,{removable:"",onRemove:i=>t.removeAtIndex(t.index),tabindex:t.tabindex,"text-color":"white",class:"q-ma-none",color:"webChip"},{default:l(()=>[r("span",ot,m(t.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])])])])])]),"header-cell-webway":l(a=>[n(ze,{props:a},{default:l(()=>[rt,r("div",it,[r("div",ut,[ve.value?(c(),w(I,{key:0,size:"sm",color:"webChip",label:o(u).webwaySelectedStartSystem.text},{default:l(()=>[n(qe,null,{default:l(()=>[n($e,{class:"my-card"},{default:l(()=>[n(De,{bordered:""},{default:l(()=>[(c(!0),C(Ie,null,Me(o(we)(o(u).webwaySelectedStartSystem.value),(t,i)=>Z((c(),w(T,{clickable:"",key:i,onClick:f=>o(ye)(t)},{default:l(()=>[n(g,null,{default:l(()=>[L(m(t.text),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Oe],[We]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])):(c(),C("span",dt,m(o(u).webwaySelectedStartSystem.text),1))])])]),_:2},1032,["props"])]),body:l(a=>[n(te,{props:a},{default:l(()=>[n(p,{key:"webway",props:a},{default:l(()=>[o(J)(a.row)&&o(X)(a.row)?(c(),w(o(se),{key:0,jumps:o(J)(a.row),web:o(X)(a.row)},null,8,["jumps","web"])):h("",!0)]),_:2},1032,["props"]),n(p,{key:"region",props:a},{default:l(()=>[L(m(a.row.system.region.region_name),1)]),_:2},1032,["props"]),n(p,{key:"constellation",props:a},{default:l(()=>[L(m(a.row.system.constellation.constellation_name),1)]),_:2},1032,["props"]),n(p,{key:"system",props:a},{default:l(()=>[n(I,{color:"none",flat:"",rounded:"","text-color":"positive",icon:"fa-solid fa-map",href:o(Le)(a.row),target:"_blank"},null,8,["href"]),r("span",{onClick:t=>o(Ce)(a.row.system.system_name),class:"cursor-pointer"},m(a.row.system.system_name),9,mt)]),_:2},1032,["props"]),n(p,{key:"corpTicker",props:a},{default:l(()=>[n(M,{size:"lg",class:"q-pr-xl"},{default:l(()=>[r("img",{src:a.row.corp.url},null,8,ct)]),_:2},1024),r("span",{class:ee(o(he)(a.row))},m(a.row.corp.ticker),3)]),_:2},1032,["props"]),n(p,{key:"allianceTicker",props:a},{default:l(()=>[a.row.corp.alliance_id?(c(),C("span",pt,[n(M,{size:"lg",class:"q-pr-xl"},{default:l(()=>[r("img",{src:a.row.corp.alliance.url},null,8,_t)]),_:2},1024),r("span",{class:ee(o(be)(a.row))},m(a.row.corp.alliance.ticker),3)])):h("",!0)]),_:2},1032,["props"]),n(p,{key:"type",props:a},{default:l(()=>[n(M,{size:"lg",class:"q-pr-xl"},{default:l(()=>[r("img",{src:o(fe)(a.row.item_id)},null,8,ft)]),_:2},1024),L(" "+m(a.row.item.item_name),1)]),_:2},1032,["props"]),n(p,{key:"name",props:a},{default:l(()=>[L(m(a.row.name),1)]),_:2},1032,["props"]),n(p,{key:"status",props:a},{default:l(()=>[o(R)("add_timer")?(c(),w(o(oe),{key:0,item:a.row},null,8,["item"])):h("",!0)]),_:2},1032,["props"]),n(p,{key:"actions",props:a},{default:l(()=>[r("div",yt,[r("div",vt,[n(o(ue),{from:2,station:a.row},null,8,["station"])]),r("div",gt,[n(o(ie),{station:a.row,type:4},null,8,["station"])]),r("div",wt,[o(xe)(a.row)?(c(),w(o(re),{key:0,station:a.row},null,8,["station"])):h("",!0)]),o(R)("view_station_logs")?(c(),C("div",ht,[n(I,{size:"md",flat:"",color:"none","text-color":"primary",round:"",padding:"none",onClick:t=>a.expand=!a.expand,icon:"fa-solid fa-clock-rotate-left"},null,8,["onClick"])])):h("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"]),Z(n(te,{props:a},{default:l(()=>[n(p,{colspan:"100%"},{default:l(()=>[r("div",null,[n(o(ne),{station:a.row},null,8,["station"])])]),_:2},1024)]),_:2},1032,["props"]),[[Ue,a.expand]])]),_:1},8,["rows","columns","filter","pagination"])]))}};export{Bt as default};

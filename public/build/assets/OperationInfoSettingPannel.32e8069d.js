import{n as $,r,e as y,o as _,c as h,a,D as c,y as o,G as q,aF as F,A as g,O as w,C as i,L as G,ay as H,az as M,M as C,aG as z,P as j,b1 as K,K as O,al as N,I as W,U as L}from"./app.e311c8d7.js";import{Q,a as E}from"./QSelect.78285059.js";import{Q as J}from"./QItemLabel.17844741.js";import{Q as X}from"./QToggle.3d167bef.js";import{Q as Y}from"./QOptionGroup.6b948240.js";import"./QCheckbox.7b391117.js";import"./QRadio.df007502.js";const Z={class:"no-margin"},ee={class:"text-xs"},te={class:"row items-center"},pe={__name:"OperationInfoSettingPannel",setup(le){let n=$(),p=r(!1),d=r([]),u=r(),m=r(),s=r([]),V=r([{label:"Check List",value:"check_list"},{label:"Fleet Table",value:"fleet_table"},{label:"Recon List",value:"recon_table"},{label:"System Table",value:"system_table"}]),I=l=>s.value.includes(l.value)?l.label+" - show":l.label+" - hide",S=l=>{let t=0;return s.value.includes(l)?t=1:t=0,l+" - "+t},T=l=>s.value.includes(l)?"text-primary":"text-negative",v=y(()=>m.value?n.operationInfoOperationList.filter(l=>l.title.toLowerCase().indexOf(m.value)>-1):n.operationInfoOperationList),k=(l,t,e)=>{t(()=>{m.value=l.toLowerCase(),v.value.length>0&&l&&(u.value=v.value[0])})},f=r(),U=y(()=>f.value?n.systemlist.filter(l=>l.text.toLowerCase().indexOf(f.value)>-1):n.systemlist),A=(l,t,e)=>{t(()=>{f.value=l.toLowerCase()})},P=()=>{d.value=n.getOperationInfoSystemList,s.value=n.getOperationInfoTableStatus,u.value=n.operationInfoOperationList.find(l=>l.id==n.operationInfoPage.operation_id)},x=()=>{},R=()=>{var e;let l=null;u.value&&(l=u.value.id);var t={operation_id:l,systemsToUpdate:(e=d.value)!=null?e:[],show:s.value};axios({method:"post",url:"/api/operationinfosheet/"+n.operationInfoPage.id,withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}})};return(l,t)=>(_(),h(W,null,[a(c,{color:"warning",icon:"fa-solid fa-gears",flat:"",padding:"none",onClick:t[0]||(t[0]=e=>p.value=!0)}),a(N,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=e=>p.value=e),onBeforeShow:t[6]||(t[6]=e=>i(P)()),persistent:""},{default:o(()=>[a(q,{class:"myRoundTop",style:{width:"700px","max-width":"80vw"}},{default:o(()=>[a(F,{class:"bg-primary text-h5 text-center"},{default:o(()=>[g("h5",Z," Globle Setting for Operation - "+w(i(n).operationInfoPage.name),1)]),_:1}),a(F,null,{default:o(()=>[a(Q,{rounded:"",dense:"",clearable:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"id","option-label":"title",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),options:v.value,ref:"toRegionRef",label:"Which Hacking Operation would you like to add",onFilter:i(k),onFilterAbort:i(x),"map-options":"","use-input":"","hide-selected":"","fill-input":""},null,8,["modelValue","options","onFilter","onFilterAbort"]),a(Q,{rounded:"",class:"q-pt-sm",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),options:U.value,onFilter:i(A),onFilterAbort:i(x),label:"Which none hacking Operation Systems would you like to add","use-input":"","use-chips":"",multiple:""},{option:o(({itemProps:e,opt:b,selected:B,toggleOption:D})=>[a(G,H(M(e)),{default:o(()=>[a(C,null,{default:o(()=>[a(J,{innerHTML:b.text},null,8,["innerHTML"])]),_:2},1024),a(C,{side:""},{default:o(()=>[a(X,{"model-value":B,"onUpdate:modelValue":ae=>D(b)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":o(e=>[a(E,{removable:"",onRemove:b=>e.removeAtIndex(e.index),tabindex:e.tabindex,"text-color":"white",class:"q-ma-none"},{default:o(()=>[g("span",ee,w(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),a(Y,{class:"q-pt-md",modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),options:V.value,color:"yellow",dense:"",type:"toggle"},{label:o(e=>[g("div",te,[a(z,{mode:"out-in","enter-active-class":"animate__animated animate__flash","leave-active-class":"animate__animated animate__flash"},{default:o(()=>[(_(),h("span",{key:i(S)(e.value),class:j(i(T)(e.value))},w(i(I)(e)),3))]),_:2},1024)])]),_:1},8,["modelValue","options"])]),_:1}),a(K,{align:"center"},{default:o(()=>[O(a(c,{color:"positive",label:"Update",onClick:t[4]||(t[4]=e=>i(R)()),rounded:""},null,512),[[L]]),O(a(c,{label:"Close",rounded:"",color:"negative"},null,512),[[L]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{pe as default};

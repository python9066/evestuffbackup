import{v as y,n as b,p as x,q as k,w as O,x as C,r as d,e as q,c as I,A as a,a as o,y as s,C as l,z as T,_ as E,o as B,O as i,D as f}from"./app.e311c8d7.js";import{Q as r}from"./QTd.8bb5d284.js";import{Q as P}from"./QTr.e0876c6f.js";import{Q}from"./QTable.c1752f2a.js";import"./QSeparator.58649ec0.js";import"./QMarkupTable.3f1d7c4b.js";import"./QSelect.78285059.js";import"./QItemLabel.17844741.js";import"./QLinearProgress.1c72e58b.js";import"./QCheckbox.7b391117.js";const $={class:"q-ma-md"},j={class:"row justify-center"},A={class:"col-10"},R=a("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[a("div",{class:"col-11 flex flex-center"},[a("span",{class:"text-h4"},"Operations")])],-1),S={class:"row full-width justify-end"},D={class:"col-3 flex justify-end q-pt-sm q-pr-sm"},W={__name:"OperationInfo",setup(V){T(e=>({"377e25e3":w.value}));const p=y(()=>E(()=>import("./AddOperationInfo.57632317.js"),["assets/AddOperationInfo.57632317.js","assets/app.e311c8d7.js","assets/app.78479e83.css"]));let n=b();x("can");let c=k();O(async()=>{n.getOperationSheetInfo(),Echo.private("operationinfopage").listen("OperationInfoPageUpdate",e=>{e.flag.flag==1,e.flag.flag==2&&n.updateOperationPageInfo(e.flag.message),e.flag.flag==3&&n.removeOperationPageInfo(e.flag.message)})}),C(async()=>{Echo.leave("operationinfopage")});let u=d({sortBy:"actions",descending:!1,page:1,rowsPerPage:0}),m=e=>{c.push({path:`/operationinfo/${e}`})},_=async e=>{await axios({method:"DELETE",url:"/api/operationinfosheet/"+e,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},g=d([{name:"title",align:"left",required:!1,label:"Title",classes:"text-no-wrap",field:e=>e.name,format:e=>`${e}`,sortable:!1},{name:"status",required:!1,align:"left",label:"Status",classes:"text-no-wrap",field:e=>e.status.name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"start",required:!1,align:"right",label:"Start",classes:"text-no-wrap",field:e=>e.start,format:e=>`${e}`,sortable:!0,filter:!0},{name:"actions",required:!1,align:"right",label:"",classes:"text-no-wrap",field:e=>e.id,format:e=>`${e}`,sortable:!1,filter:!1}]),w=q(()=>{let e=30;return n.size.height-e+"px"});return(e,h)=>(B(),I("div",$,[a("div",j,[a("div",A,[o(Q,{title:"Connections",class:"myTableOperationInfo myRound bg-webBack",rows:l(n).operationInfo,columns:g.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id","no-data-label":"No Operations",dark:"",dense:"",ref:"tableRef",rounded:"","hide-bottom":"",pagination:u.value},{top:s(t=>[R,a("div",S,[a("div",D,[o(l(p))])])]),body:s(t=>[o(P,{props:t},{default:s(()=>[o(r,{key:"title",props:t},{default:s(()=>[a("div",null,i(t.row.name),1)]),_:2},1032,["props"]),o(r,{key:"status",props:t},{default:s(()=>[a("div",null,i(t.row.status.name),1)]),_:2},1032,["props"]),o(r,{key:"start",props:t},{default:s(()=>[a("div",null,i(t.row.start),1)]),_:2},1032,["props"]),o(r,{key:"actions",props:t},{default:s(()=>[a("div",null,[o(f,{rounded:"",push:"",color:"primary",onClick:v=>l(m)(t.row.link),label:"view"},null,8,["onClick"]),o(f,{rounded:"",padding:"xs","text-color":"red",flat:"",onClick:v=>l(_)(t.row.link),icon:"fa-solid fa-trash-can"},null,8,["onClick"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])])])]))}};export{W as default};

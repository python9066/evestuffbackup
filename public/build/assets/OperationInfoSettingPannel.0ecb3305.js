import{u as E,r,c as C,h as O,e as S,f as l,m as F,w as o,q as N,aD as I,j as v,A as f,l as n,x as Q,aU as U,aV as k,y as b,aP as K,B as J,aE as X,v as A,ah as Y,F as Z,G as R}from"./app.97da09f3.js";import{Q as V,a as P}from"./QSelect.550c60f5.js";import{Q as q}from"./QItemLabel.5a882a4e.js";import{Q as $}from"./QToggle.a01ce08b.js";import{Q as ee}from"./QOptionGroup.bfdbaa4d.js";import"./use-checkbox.0335af96.js";import"./QRadio.a74ee127.js";import"./QCheckbox.9de5a285.js";const te={class:"no-margin"},le={class:"text-xs"},ae={class:"text-xs"},oe={class:"row items-center"},fe={__name:"OperationInfoSettingPannel",setup(ne){let i=E(),c=r(!1),p=r([]),m=r([]),d=r(),x=r(),u=r([]),B=r([{label:"Check List",value:"check_list"},{label:"Fleet Table",value:"fleet_table"},{label:"Recon List",value:"recon_table"},{label:"System Table",value:"system_table"}]),H=a=>u.value.includes(a.value)?a.label+" - show":a.label+" - hide",W=a=>{let t=0;return u.value.includes(a)?t=1:t=0,a+" - "+t},D=a=>u.value.includes(a)?"text-primary":"text-negative",h=C(()=>x.value?i.operationInfoOperationList.filter(a=>a.title.toLowerCase().indexOf(x.value)>-1):i.operationInfoOperationList),M=(a,t,e)=>{t(()=>{x.value=a.toLowerCase(),h.value.length>0&&a&&(d.value=h.value[0])})},g=r(),L=C(()=>g.value?i.systemlist.filter(a=>a.text.toLowerCase().indexOf(g.value)>-1):i.systemlist),T=(a,t,e)=>{t(()=>{g.value=a.toLowerCase()})},j=()=>{p.value=i.getOperationInfoSystemList,u.value=i.getOperationInfoTableStatus,m.value=i.getOperationInfoWatchedSystemList,d.value=i.operationInfoOperationList.find(a=>a.id==i.operationInfoPage.operation_id)},w=()=>{},G=()=>{var e,s;let a=null;d.value&&(a=d.value.id);var t={operation_id:a,systemsToUpdate:(e=p.value)!=null?e:[],systemsToUpdateWatched:(s=m.value)!=null?s:[],show:u.value};axios({method:"post",url:"/api/operationinfosheet/"+i.operationInfoPage.id,withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}})};return(a,t)=>(O(),S(Z,null,[l(F,{color:"warning",icon:"fa-solid fa-gears",flat:"",padding:"none",onClick:t[0]||(t[0]=e=>c.value=!0)}),l(Y,{modelValue:c.value,"onUpdate:modelValue":t[6]||(t[6]=e=>c.value=e),onBeforeShow:t[7]||(t[7]=e=>n(j)()),persistent:""},{default:o(()=>[l(N,{class:"myRoundTop",style:{width:"700px","max-width":"80vw"}},{default:o(()=>[l(I,{class:"bg-primary text-h5 text-center"},{default:o(()=>[v("h5",te," Globle Setting for Operation - "+f(n(i).operationInfoPage.name),1)]),_:1}),l(I,null,{default:o(()=>[l(V,{rounded:"",dense:"",clearable:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"id","option-label":"title",modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),options:h.value,ref:"toRegionRef",label:"Which Hacking Operation would you like to add",onFilter:n(M),onFilterAbort:n(w),"map-options":"","use-input":"","hide-selected":"","fill-input":""},null,8,["modelValue","options","onFilter","onFilterAbort"]),l(V,{rounded:"",class:"q-pt-sm",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=e=>p.value=e),options:L.value,onFilter:n(T),onFilterAbort:n(w),label:"Which none hacking Operation Systems would you like to add","use-input":"","use-chips":"",multiple:""},{option:o(({itemProps:e,opt:s,selected:y,toggleOption:_})=>[l(Q,U(k(e)),{default:o(()=>[l(b,null,{default:o(()=>[l(q,{innerHTML:s.text},null,8,["innerHTML"])]),_:2},1024),l(b,{side:""},{default:o(()=>[l($,{"model-value":y,"onUpdate:modelValue":z=>_(s)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":o(e=>[l(P,{removable:"",onRemove:s=>e.removeAtIndex(e.index),tabindex:e.tabindex,"text-color":"white",class:"q-ma-none"},{default:o(()=>[v("span",le,f(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),l(V,{rounded:"",class:"q-pt-sm",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e),options:L.value,onFilter:n(T),onFilterAbort:n(w),label:"Which Systems would you like to see dscan info for","use-input":"","use-chips":"",multiple:""},{option:o(({itemProps:e,opt:s,selected:y,toggleOption:_})=>[l(Q,U(k(e)),{default:o(()=>[l(b,null,{default:o(()=>[l(q,{innerHTML:s.text},null,8,["innerHTML"])]),_:2},1024),l(b,{side:""},{default:o(()=>[l($,{"model-value":y,"onUpdate:modelValue":z=>_(s)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":o(e=>[l(P,{removable:"",onRemove:s=>e.removeAtIndex(e.index),tabindex:e.tabindex,"text-color":"white",class:"q-ma-none"},{default:o(()=>[v("span",ae,f(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),l(ee,{class:"q-pt-md",modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=e=>u.value=e),options:B.value,color:"yellow",dense:"",type:"toggle"},{label:o(e=>[v("div",oe,[l(K,{mode:"out-in","enter-active-class":"animate__animated animate__flash","leave-active-class":"animate__animated animate__flash"},{default:o(()=>[(O(),S("span",{key:n(W)(e.value),class:J(n(D)(e.value))},f(n(H)(e)),3))]),_:2},1024)])]),_:1},8,["modelValue","options"])]),_:1}),l(X,{align:"center"},{default:o(()=>[A(l(F,{color:"positive",label:"Update",onClick:t[5]||(t[5]=e=>n(G)()),rounded:""},null,512),[[R]]),A(l(F,{label:"Close",rounded:"",color:"negative"},null,512),[[R]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{fe as default};

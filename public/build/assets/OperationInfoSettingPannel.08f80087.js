import{u as $,r,c as h,h as y,e as _,f as a,m as c,w as o,q as D,aF as F,j as g,A as w,l as i,x as G,ay as H,az as j,y as C,aG as z,B as M,aI as N,v as O,ah as W,F as E,G as Q}from"./app.b8bc639a.js";import{Q as V,a as K}from"./QSelect.2a457a6e.js";import{Q as J}from"./QItemLabel.65cea28b.js";import{Q as X}from"./QToggle.cf0cba15.js";import{Q as Y}from"./QOptionGroup.59156b95.js";import"./use-checkbox.93d37e49.js";import"./QRadio.f5fcb3ac.js";import"./QCheckbox.c77fa795.js";const Z={class:"no-margin"},ee={class:"text-xs"},te={class:"row items-center"},me={__name:"OperationInfoSettingPannel",setup(le){let n=$(),p=r(!1),d=r([]),u=r(),m=r(),s=r([]),I=r([{label:"Check List",value:"check_list"},{label:"Fleet Table",value:"fleet_table"},{label:"Recon List",value:"recon_table"},{label:"System Table",value:"system_table"}]),L=l=>s.value.includes(l.value)?l.label+" - show":l.label+" - hide",S=l=>{let t=0;return s.value.includes(l)?t=1:t=0,l+" - "+t},T=l=>s.value.includes(l)?"text-primary":"text-negative",v=h(()=>m.value?n.operationInfoOperationList.filter(l=>l.title.toLowerCase().indexOf(m.value)>-1):n.operationInfoOperationList),k=(l,t,e)=>{t(()=>{m.value=l.toLowerCase(),v.value.length>0&&l&&(u.value=v.value[0])})},f=r(),U=h(()=>f.value?n.systemlist.filter(l=>l.text.toLowerCase().indexOf(f.value)>-1):n.systemlist),A=(l,t,e)=>{t(()=>{f.value=l.toLowerCase()})},P=()=>{d.value=n.getOperationInfoSystemList,s.value=n.getOperationInfoTableStatus,u.value=n.operationInfoOperationList.find(l=>l.id==n.operationInfoPage.operation_id)},x=()=>{},R=()=>{var e;let l=null;u.value&&(l=u.value.id);var t={operation_id:l,systemsToUpdate:(e=d.value)!=null?e:[],show:s.value};axios({method:"post",url:"/api/operationinfosheet/"+n.operationInfoPage.id,withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}})};return(l,t)=>(y(),_(E,null,[a(c,{color:"warning",icon:"fa-solid fa-gears",flat:"",padding:"none",onClick:t[0]||(t[0]=e=>p.value=!0)}),a(W,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=e=>p.value=e),onBeforeShow:t[6]||(t[6]=e=>i(P)()),persistent:""},{default:o(()=>[a(D,{class:"myRoundTop",style:{width:"700px","max-width":"80vw"}},{default:o(()=>[a(F,{class:"bg-primary text-h5 text-center"},{default:o(()=>[g("h5",Z," Globle Setting for Operation - "+w(i(n).operationInfoPage.name),1)]),_:1}),a(F,null,{default:o(()=>[a(V,{rounded:"",dense:"",clearable:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"id","option-label":"title",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),options:v.value,ref:"toRegionRef",label:"Which Hacking Operation would you like to add",onFilter:i(k),onFilterAbort:i(x),"map-options":"","use-input":"","hide-selected":"","fill-input":""},null,8,["modelValue","options","onFilter","onFilterAbort"]),a(V,{rounded:"",class:"q-pt-sm",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),options:U.value,onFilter:i(A),onFilterAbort:i(x),label:"Which none hacking Operation Systems would you like to add","use-input":"","use-chips":"",multiple:""},{option:o(({itemProps:e,opt:b,selected:B,toggleOption:q})=>[a(G,H(j(e)),{default:o(()=>[a(C,null,{default:o(()=>[a(J,{innerHTML:b.text},null,8,["innerHTML"])]),_:2},1024),a(C,{side:""},{default:o(()=>[a(X,{"model-value":B,"onUpdate:modelValue":ae=>q(b)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":o(e=>[a(K,{removable:"",onRemove:b=>e.removeAtIndex(e.index),tabindex:e.tabindex,"text-color":"white",class:"q-ma-none"},{default:o(()=>[g("span",ee,w(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),a(Y,{class:"q-pt-md",modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),options:I.value,color:"yellow",dense:"",type:"toggle"},{label:o(e=>[g("div",te,[a(z,{mode:"out-in","enter-active-class":"animate__animated animate__flash","leave-active-class":"animate__animated animate__flash"},{default:o(()=>[(y(),_("span",{key:i(S)(e.value),class:M(i(T)(e.value))},w(i(L)(e)),3))]),_:2},1024)])]),_:1},8,["modelValue","options"])]),_:1}),a(N,{align:"center"},{default:o(()=>[O(a(c,{color:"positive",label:"Update",onClick:t[4]||(t[4]=e=>i(R)()),rounded:""},null,512),[[Q]]),O(a(c,{label:"Close",rounded:"",color:"negative"},null,512),[[Q]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{me as default};

import{p as F,n as L,aA as Z,v as k,r as g,w as G,x as H,e as J,c as p,a as l,y as o,C as i,z as K,_ as w,o as m,A as s,B as W,Q as X,N as u,O as r,S as C,P as x,E as Y,R as $,D as v,aE as I}from"./app.e311c8d7.js";import{Q as c}from"./QTd.8bb5d284.js";import{a as ee}from"./QSelect.78285059.js";import{Q as te}from"./QTr.e0876c6f.js";import{Q as ae}from"./QTable.c1752f2a.js";import{c as T}from"./copy-to-clipboard.cfd78223.js";import"./QItemLabel.17844741.js";import"./QSeparator.58649ec0.js";import"./QMarkupTable.3f1d7c4b.js";import"./QLinearProgress.1c72e58b.js";import"./QCheckbox.7b391117.js";const le={class:"q-ma-md"},oe=s("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[s("div",{class:"col-12 flex flex-center"},[s("span",{class:"text-h4"},"Timers to input to RC")])],-1),ie={class:"row full-width q-pt-md justify-between"},ne={class:"col-auto"},se={class:"row q-gutter-sm q-pl-md"},re={class:"col-auto"},ce={class:"row q-pr-md q-gutter-sm"},fe=["src"],ue=["src"],de={key:0,class:"text-red"},me={key:0},pe={key:1},_e={class:"row spacear"},ge={class:"col-auto"},ve={class:"col-auto"},Re={__name:"RCMove",setup(he){K(e=>({"397e05fa":P.value}));let S=F("can"),f=L();const h=Z(),y=k(()=>w(()=>import("./AddStation.c22f993c.js"),["assets/AddStation.c22f993c.js","assets/app.e311c8d7.js","assets/app.78479e83.css","assets/QTabPanels.b91fcaf9.js","assets/QSelect.78285059.js","assets/QItemLabel.17844741.js","assets/QSeparator.58649ec0.js","assets/QOptionGroup.6b948240.js","assets/QRadio.df007502.js","assets/QCheckbox.7b391117.js","assets/QToggle.3d167bef.js"])),D=k(()=>w(()=>import("./index.c5900ccf.js"),["assets/index.c5900ccf.js","assets/app.e311c8d7.js","assets/app.78479e83.css"]));let _=g();G(async()=>{S("finish_move_timer")?(Echo.private("rcmovesheet").listen("RcMoveUpdate",e=>{e.flag.message!=null&&f.updateStationNotification(e.flag.message)}).listen("RcMoveDelete",e=>{f.deleteStationNotification(e.flag.id)}),await f.getStationData()):(Echo.private("rcmovesheet").listen("RcMoveUpdate",e=>{e.flag.message!=null&&e.flag.message.added_by_user_id==this.user_id&&f.updateStationNotification(e.flag.message)}).listen("RcMoveDelete",e=>{f.deleteStationNotification(e.flag.id)}),f.getStationDataByUserId())}),H(async()=>{Echo.leave("finsish_move_timer"),Echo.leave("RcMoveDelete")});let q=e=>{const a={};return Object.entries(e).forEach(([t,n])=>{a[t]=n<10?`0${n}`:String(n)}),a},R=e=>{var a=0;return e.corp.alliance?a=e.corp.alliance.standing:a=e.corp.standing,a>0?"text-blue":a<0?"text-red":""},E=e=>{var a=0;return e.corp.alliance?a=e.corp.alliance.standing:a=e.corp.standing,a>0?"text-blue":a<0?"text-red":""},d=e=>{T(e).then(()=>{h.notify({type:"info",message:e+" copied to your clipboard"})})},Q=e=>{if(e==1)return"success";if(e==2)return"primary";if(e==3)return"#FF5EEA";if(e==4||e==11||e==13)return"orange";if(e==5)return"indigo accent-4";if(e==6)return"primary";if(e==7)return"red";if(e==8||e==9)return"warning";if(e==14)return"deep-orange darken-2"},A=e=>{if(e==1)return"fa-solid fa-plus";if(e==2)return"fa-solid fa-route";if(e==3)return"fa-solid fa-hand-fist";if(e==4)return"fa-solid fa-thumbs-up";if(e==5||e==13)return"fa-solid fa-clock";if(e==6)return"fa-solid fa-life-ring";if(e==7)return"fa-solid fa-dumpster-fire";if(e==8)return"fa-solid fa-shield-halved";if(e==9)return"fa-solid fa-house-chimney-crack";if(e==11)return"fa-solid fa-toolbox";if(e==14)return"fa-solid fa-anchor"},V=e=>{const a=new Date(e+"Z"),t=Date.now();return a.getTime()-t},B=e=>{var a=e.replace(/\s+/g,"");a=a.replace(/[:]/g,""),a=a.replace(/[-]/g,""),a=a.substring(2),T(a).then(()=>{h.notify({type:"info",message:"Absolute time copied to your clipboard"})})},b=async(e,a)=>{var t={status:e};await I({method:"put",url:"api/timer/statusupdate/"+a,withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}})},M=g({sortBy:"time",descending:!1,page:1,rowsPerPage:0}),N=g([{name:"region",align:"center",required:!1,label:"Region",classes:"text-no-wrap",field:e=>e.system.region.region_name,format:e=>`${e}`,sortable:!1},{name:"constellation",required:!0,align:"left",label:"Constellation",classes:"text-no-wrap",field:e=>e.system.constellation.constellation_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"system",required:!0,align:"left",label:"System",classes:"text-no-wrap",field:e=>e.system.system_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"corp",align:"left",classes:"text-no-wrap",label:"Corp",field:e=>e.corp.ticker,format:e=>`${e}`,sortable:!1,filter:!0},{name:"alliance",align:"left",required:!0,classes:"text-no-wrap",label:"Alliance",field:e=>e.alliance_id>0?e.alliance.ticker:"",format:e=>`${e}`,sortable:!1,filter:!0},{name:"type",align:"left",required:!0,label:"Type",classes:"text-no-wrap",field:e=>e.item.item_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"name",label:"Name",classes:"text-no-wrap",sortable:!1,filter:!1,field:e=>e.name,format:e=>`${e}`},{name:"timeStamp",label:"Time",classes:"text-no-wrap",align:"center",sortable:!1,field:e=>e.out_time,format:e=>`${e}`},{name:"count",label:"Countdown",align:"center",classes:"text-no-wrap",sortable:!1,field:e=>e.out_time,format:e=>`${e}`},{name:"status",label:"Status",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.status.name,format:e=>e.replace("Upcoming - ","")},{name:"actions1",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`},{name:"actions2",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`}]),P=J(()=>{let e=30;return f.size.height-e+"px"});return(e,a)=>(m(),p("div",le,[l(ae,{title:"Connections",class:"myTableMoveRC myRound bg-webBack",rows:i(f).stations,columns:N.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id",dark:"",dense:"",filter:_.value,ref:"tableRef",rounded:"",pagination:M.value},{top:o(t=>[oe,s("div",ie,[s("div",ne,[s("div",se,[l(W,{rounded:"",standout:"",dense:"",debounce:"300",modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=n=>_.value=n),clearable:"",placeholder:"Search"},{append:o(()=>[l(X,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue"])])]),s("div",re,[s("div",ce,[l(i(y))])])])]),body:o(t=>[l(te,{props:t},{default:o(()=>[l(c,{key:"region",props:t},{default:o(()=>[u(r(t.cols[0].value),1)]),_:2},1032,["props"]),l(c,{key:"constellation",props:t},{default:o(()=>[u(r(t.cols[1].value),1)]),_:2},1032,["props"]),l(c,{key:"system",props:t,onClick:n=>i(d)(t.cols[2].value),class:"cursor-pointer"},{default:o(()=>[u(r(t.cols[2].value),1)]),_:2},1032,["props","onClick"]),l(c,{key:"corp",props:t,onClick:n=>i(d)(t.cols[3].value),class:"cursor-pointer"},{default:o(()=>[l(C,{size:"lg",class:"q-pr-xl"},{default:o(()=>[s("img",{src:t.row.corp.url},null,8,fe)]),_:2},1024),s("span",{class:x(i(R)(t.row))},r(t.cols[3].value),3)]),_:2},1032,["props","onClick"]),l(c,{key:"alliance",props:t,onClick:n=>i(d)(t.cols[4].value),class:"cursor-pointer"},{default:o(()=>[t.cols[4].value?(m(),Y(C,{key:0,size:"lg",class:"q-pr-xl"},{default:o(()=>[s("img",{src:t.row.corp.alliance.url},null,8,ue)]),_:2},1024)):$("",!0),s("span",{class:x(i(E)(t.row))},r(t.cols[4].value),3)]),_:2},1032,["props","onClick"]),l(c,{key:"type",props:t,onClick:n=>i(d)(t.cols[5].value),class:"cursor-pointer"},{default:o(()=>[u(r(t.cols[5].value),1)]),_:2},1032,["props","onClick"]),l(c,{key:"name",props:t,onClick:n=>i(d)(t.cols[6].value),class:"cursor-pointer"},{default:o(()=>[u(r(t.cols[6].value),1)]),_:2},1032,["props","onClick"]),l(c,{class:"cursor-pointer",key:"timeStamp",props:t,onClick:n=>i(B)(t.cols[7].value)},{default:o(()=>[u(r(t.cols[7].value),1)]),_:2},1032,["props","onClick"]),l(c,{key:"count",props:t},{default:o(()=>[l(i(D),{time:i(V)(t.cols[8].value),interval:1e3,transform:i(q)},{default:o(({days:n,hours:z,minutes:U,seconds:j,totalMilliseconds:O})=>[O>0?(m(),p("span",de,[n>0?(m(),p("span",me,r(n)+" Days -",1)):$("",!0),u(" "+r(z)+":"+r(U)+":"+r(j),1)])):(m(),p("span",pe," Timer Done"))]),_:2},1032,["time","transform"])]),_:2},1032,["props"]),l(c,{key:"status",props:t,onClick:n=>i(d)(t.cols[9].value),class:"cursor-pointer"},{default:o(()=>[l(ee,{clickable:"",color:i(Q)(t.row.station_status_id),icon:i(A)(t.row.station_status_id),label:t.cols[9].value},null,8,["color","icon","label"])]),_:2},1032,["props","onClick"]),l(c,{key:"actions1",props:t},{default:o(()=>[l(v,{color:"none",flat:"",rounded:"","text-color":"positive",icon:"fa-solid fa-image",href:t.row.timer_image_link,target:"_blank"},null,8,["href"])]),_:2},1032,["props"]),l(c,{key:"actions2",props:t},{default:o(()=>[s("div",_e,[s("div",ge,[l(i(y),{from:3,station:t.row},null,8,["station"])]),s("div",ve,[l(v,{flat:"",round:"",padding:"none",size:"md",color:"positive",icon:"fa-solid fa-circle-check",onClick:n=>i(b)(1,t.row.id)},null,8,["onClick"]),l(v,{flat:"",round:"",padding:"none",size:"md",color:"negative",icon:"fa-solid fa-circle-xmark",onClick:n=>i(b)(2,t.row.id)},null,8,["onClick"])])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","pagination"])]))}};export{Re as default};

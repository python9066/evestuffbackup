import{d as W,e as i,h as C,Q as P,ac as j,ad as G,r as u,ag as I,y as J,s as K,o as g,c as p,a as l,w as a,ah as R,ai as n,aj as X,ak as b,a0 as Y,ax as Z,ay as ee,$ as D,t as d,aq as te,b as le}from"./app.7fac84fd.js";import{u as ae,e as oe,f as se,Q as ne,b as re,g as ie,d as ue,c as de,a as x}from"./QTable.2b339d37.js";import{Q as q,a as ce}from"./QAvatar.1313c7f3.js";const me=W({name:"QToggle",props:{...ae,icon:String,iconColor:String},emits:oe,setup(v){function r(c,m){const _=i(()=>(c.value===!0?v.checkedIcon:m.value===!0?v.indeterminateIcon:v.uncheckedIcon)||v.icon),h=i(()=>c.value===!0?v.iconColor:null);return()=>[C("div",{class:"q-toggle__track"}),C("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},_.value!==void 0?[C(P,{name:_.value,color:h.value})]:void 0)]}return se("toggle",r)}});const fe={class:"q-ma-md"},ge=n("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[n("div",{class:"col-12 flex flex-center"},[n("span",{class:"text-h4"},"Vulnerability Windows")])],-1),pe={class:"row full-width q-pt-md justify-between"},ve={class:"col-9"},_e={class:"row q-gutter-sm q-pl-md"},we={class:"text-xs"},be={class:"col-auto"},xe={class:"row q-pr-md q-gutter-sm"},he={class:"row"},ye={class:"col"},Te={class:""},ke=["src"],Ce={key:0,class:"text-blue"},Ve={key:1,class:"text-red"},Qe={key:2,class:""},Se={key:0,class:"text-positive"},Ie={key:1,class:"text-negative"},Re={class:"text-positive"},De={key:0},Ae={__name:"Timers",setup(v){j(e=>({"2a23a5ca":z.value}));let r=G(),c=u(1),m=u(3);const _=I(()=>R(()=>import("./index.3d8860b4.js"),["assets/index.3d8860b4.js","assets/app.7fac84fd.js","assets/app.57962967.css"])),h=I(()=>R(()=>import("./TimerCountDown.b941e96b.js"),["assets/TimerCountDown.b941e96b.js","assets/app.7fac84fd.js","assets/app.57962967.css"]));let y=u("");J(async()=>{await r.getTimerDataAll(),await r.getTimerDataAllRegion()}),K(async()=>{});let T=u(),w=u([]),$=i(()=>T.value?r.timersRegions.filter(e=>e.text.toLowerCase().indexOf(T.value)>-1):r.timersRegions),U=(e,s,t)=>{s(()=>{T.value=e.toLowerCase(),Q.value.length>0&&e&&(A.value=Q.value[0])})},A=u(null),V=u(),Q=i(()=>V.value?r.timersRegions.filter(e=>e.text.toLowerCase().indexOf(V.value)>-1):r.timersRegions),k=i(()=>m.value==3?r.timers.filter(e=>e.color==3&&e.status==0):m.value==2?r.timers.filter(e=>e.color==2&&e.status==0):m.value==1?r.timers.filter(e=>e.color==1&&e.status==0):r.timers.filter(e=>e.status==0)),S=i(()=>c.value==1?k.value.filter(e=>e.window_station==="Open"):c.value==2?k.value.filter(e=>e.window_station==="Closed"):k.value),E=i(()=>w.value.length>0?S.value.filter(e=>!!w.value.map(s=>s.value).includes(e.region_id)):S.value),L=i(()=>E.value),O=e=>{let s=e,o=new Date(s).getTimezoneOffset()*6e4;return Date.parse(s)-o},B=u({sortBy:"progress",descending:!1,page:1,rowsPerPage:50}),M=i(()=>c.value==1?"Time Till Close":"Time Till Open"),H=u([{name:"region",align:"region",label:"Region",classes:"text-no-wrap",field:e=>e.region,format:e=>`${e}`,sortable:!1},{name:"constellation",align:"left",label:"Constellation",classes:"text-no-wrap",field:e=>e.constellation,format:e=>`${e}`,sortable:!1},{name:"system",align:"left",label:"System",classes:"text-no-wrap",field:e=>e.system,format:e=>`${e}`,sortable:!1,filter:!0},{name:"alliance",align:"left",classes:"text-no-wrap",label:"Alliance",field:e=>e.alliance,format:e=>`${e}`,sortable:!1,filter:!0},{name:"ticker",align:"left",label:"Ticker",style:"width: 5%",classes:"text-no-wrap",field:e=>e.ticker,format:e=>`${e}`,sortable:!1,filter:!0},{name:"window",label:"Window",classes:"text-no-wrap",field:e=>e.window_station,format:e=>`${e}`,sortable:!1,filter:!0},{name:"structure",label:"Structure",classes:"text-no-wrap",sortable:!1,filter:!1,field:e=>e.type,format:e=>e==32458?"IHUB":"TCU"},{name:"adm",align:"left",classes:"text-no-wrap",label:"ADM",field:e=>e.adm,format:e=>`${e}`,sortable:!1,filter:!0},{name:"progress",label:"Start/Progress",classes:"text-no-wrap",align:"center",style:"width: 25%",sortable:!1,field:e=>e.time,format:e=>`${e}`},{name:"countdown",label:"Countdown",align:"center",classes:"text-no-wrap",sortable:!1,field:e=>e.standing,format:e=>`${e}`},{name:"age",label:"Age",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.age,format:e=>`${e}`}]),z=i(()=>{let e=50;return r.size.height-e+"px"});return(e,s)=>(g(),p("div",fe,[l(ne,{title:"Connections",class:"myTableWindows myRound bg-webBack",rows:L.value,columns:H.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id",dark:"",dense:"",filter:y.value,ref:"tableRef",rounded:"",pagination:B.value},{top:a(t=>[ge,n("div",pe,[n("div",ve,[n("div",_e,[l(X,{rounded:"",standout:"",dense:"",debounce:"300",modelValue:y.value,"onUpdate:modelValue":s[0]||(s[0]=o=>y.value=o),clearable:"",placeholder:"Search"},{append:a(()=>[l(P,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue"]),l(re,{rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:w.value,"onUpdate:modelValue":s[1]||(s[1]=o=>w.value=o),options:$.value,label:"Region",ref:"regionDropDown",onFilter:b(U),"map-options":"","use-input":"","use-chips":"",multiple:""},{option:a(({itemProps:o,opt:f,selected:F,toggleOption:N})=>[l(Y,Z(ee(o)),{default:a(()=>[l(D,null,{default:a(()=>[l(ie,{innerHTML:f.text},null,8,["innerHTML"])]),_:2},1024),l(D,{side:""},{default:a(()=>[l(me,{"model-value":F,"onUpdate:modelValue":qe=>N(f)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":a(o=>[l(ue,{removable:"",onRemove:f=>o.removeAtIndex(o.index),tabindex:o.tabindex,color:"webChip","text-color":"white",class:"q-ma-none"},{default:a(()=>[n("span",we,d(o.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])])]),n("div",be,[n("div",xe,[l(q,{modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=o=>c.value=o),rounded:"",unelevated:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Open",value:1},{label:"Closed",value:2}]},null,8,["modelValue"]),l(q,{modelValue:m.value,"onUpdate:modelValue":s[3]||(s[3]=o=>m.value=o),rounded:"",unelevated:"",clearable:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Goon",value:3},{label:"Friendly",value:2},{label:"Hostile",value:1}]},null,8,["modelValue"])])])])]),"header-cell-progress":a(t=>[l(de,{props:t},{default:a(()=>[n("div",he,[n("div",ye,[n("span",null,d(M.value),1)])])]),_:2},1032,["props"])]),"body-cell-alliance":a(t=>[l(x,{props:t},{default:a(()=>[n("div",Te,[l(ce,{size:"lg",class:"q-pr-xl"},{default:a(()=>[n("img",{src:t.row.url},null,8,ke)]),_:2},1024),t.row.color>=2?(g(),p("span",Ce,d(t.row.alliance),1)):t.row.color==1?(g(),p("span",Ve,d(t.row.alliance),1)):(g(),p("span",Qe,d(t.row.alliance),1))])]),_:2},1032,["props"])]),"body-cell-window":a(t=>[l(x,{props:t},{default:a(()=>[t.row.window_station==="Open"?(g(),p("span",Se,d(t.value),1)):(g(),p("span",Ie,d(t.value),1))]),_:2},1032,["props"])]),"body-cell-countdown":a(t=>[l(x,{props:t},{default:a(()=>[l(b(h),{row:t.row},null,8,["row"])]),_:2},1032,["props"])]),"body-cell-age":a(t=>[l(x,{props:t},{default:a(()=>[l(b(_),{class:"q-pl-sm",time:b(O)(t.row.age),interval:6e4},{default:a(({hours:o,days:f})=>[n("span",Re,[f!=0?(g(),p("span",De,d(f)+" Days - ",1)):te("",!0),le(" "+d(o)+" Hours ",1)])]),_:2},1032,["time"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","pagination"])]))}};export{Ae as default};

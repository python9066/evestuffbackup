import{v as T,_ as I,n as A,r as _,o as h,c as B,a as t,D as u,y as o,G as Q,C as i,A as r,N as c,O as m,aG as R,E as $,b1 as E,K as j,al as O,U as P}from"./app.e311c8d7.js";import{Q as U,a as V}from"./QTable.c1752f2a.js";import{Q as n}from"./QTd.8bb5d284.js";import{Q as q}from"./QTr.e0876c6f.js";import"./QSeparator.58649ec0.js";import"./QMarkupTable.3f1d7c4b.js";import"./QSelect.78285059.js";import"./QItemLabel.17844741.js";import"./QLinearProgress.1c72e58b.js";import"./QCheckbox.7b391117.js";const N=r("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[r("div",{class:"col-12 flex flex-center"},[r("span",{class:"text-h4"},"Table of all your Saved Characters")])],-1),S={class:"row"},L={class:"col"},G={class:"myFont"},M={class:"row q-gutter-md justify-end"},ae={__name:"AddOperationUser",props:{operationID:Number},setup(f){const l=f,w=T(()=>I(()=>import("./AddOperationUserButton.7d7a74f3.js"),["assets/AddOperationUserButton.7d7a74f3.js","assets/app.e311c8d7.js","assets/app.78479e83.css","assets/QSelect.78285059.js","assets/QItemLabel.17844741.js","assets/QSlideTransition.8865272f.js","assets/QRadio.df007502.js","assets/QCheckbox.7b391117.js"]));let d=A(),p=_(!1),y=_({sortBy:"name",descending:!1,page:1,rowsPerPage:0}),v=e=>e.operation_id==l.operationID?"negative":"positive",b=e=>e.operation_id==l.operationID?"Remove":"Add",g=e=>e.operation_id==l.operationID?"fa-solid fa-minus":"fa-solid fa-plus",C=async e=>{if(e.operation_id==l.operationID){var s={operation_id:null,system_id:null,user_status_id:1};await axios({method:"PUT",url:"/api/newcampaignusersremove/"+e.id+"/"+l.operationID+"/"+d.user_id,withCredentials:!0,data:s,headers:{Accept:"application/json","Content-Type":"application/json"}})}else{var s={operation_id:l.operationID,system_id:null,user_status_id:1};await axios({method:"PUT",url:"/api/newcampaignusersadd/"+e.id+"/"+l.operationID+"/"+d.user_id,withCredentials:!0,data:s,headers:{Accept:"application/json","Content-Type":"application/json"}})}},x=async e=>{await axios({method:"DELETE",url:"/api/newcampaignusers/"+e.id+"/"+l.operationID+"/"+d.user_id,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}),d.getCampaignSystemsRecords()},D=_([{name:"name",align:"left",required:!1,label:"Name",classes:"text-no-wrap",field:e=>e.name,format:e=>`${e}`,sortable:!1},{name:"role",required:!1,align:"left",label:"Role",classes:"text-no-wrap",style:"width: 7%",field:e=>e.userrole.role,format:e=>`${e}`,sortable:!1,filter:!0},{name:"ship",required:!0,align:"left",label:"Ship",classes:"text-no-wrap",field:e=>e.ship,format:e=>`${e}`,sortable:!1,filter:!0},{name:"entosis",align:"left",classes:"text-no-wrap",label:"Entosis",field:e=>e.entosis,format:e=>`${e}`,sortable:!1,filter:!0},{name:"addRove",align:"left",required:!0,classes:"text-no-wrap",label:"",field:e=>e.id,format:e=>`${e}`,sortable:!1,filter:!0},{name:"actions",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`}]);return(e,s)=>(h(),B("div",null,[t(u,{color:"positive",class:"myOutLineButtonMid",label:"characters",onClick:s[0]||(s[0]=a=>p.value=!p.value),outline:"",rounded:""}),t(O,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=a=>p.value=a),persistent:""},{default:o(()=>[t(Q,{class:"myRoundTop"},{default:o(()=>[t(U,{class:"myHackCharTable myRoundTop bg-webBack",rows:i(d).ownChars,"hide-bottom":"",columns:D.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id",dark:"",dense:"",ref:"tableRef",rounded:"",pagination:y.value},{top:o(a=>[N]),"header-cell-actions":o(a=>[t(V,{props:a},{default:o(()=>[r("div",S,[r("div",L,[r("span",G,[t(i(w),{operationID:f.operationID},null,8,["operationID"])])])])]),_:2},1032,["props"])]),body:o(a=>[t(q,{props:a},{default:o(()=>[t(n,{key:"name",props:a},{default:o(()=>[c(m(a.row.name),1)]),_:2},1032,["props"]),t(n,{key:"role",props:a},{default:o(()=>[c(m(a.row.userrole.role),1)]),_:2},1032,["props"]),t(n,{key:"ship",props:a},{default:o(()=>[c(m(a.row.ship),1)]),_:2},1032,["props"]),t(n,{key:"entosis",props:a},{default:o(()=>[c(m(a.row.entosis),1)]),_:2},1032,["props"]),t(n,{class:"",key:"addRove",props:a},{default:o(()=>[t(R,{mode:"out-in","enter-active-class":"animate__animated animate__flash","leave-active-class":"animate__animated animate__flash"},{default:o(()=>[(h(),$(u,{key:`${a.row.operation_id}-addButton`,color:i(v)(a.row),outline:"",rounded:"",class:"myOutLineButton",icon:i(g)(a.row),label:i(b)(a.row),onClick:k=>i(C)(a.row)},null,8,["color","icon","label","onClick"]))]),_:2},1024)]),_:2},1032,["props"]),t(n,{key:"actions",props:a},{default:o(()=>[r("div",M,[t(i(w),{char:a.row,type:2,operationID:f.operationID},null,8,["char","operationID"]),t(u,{color:"negative",icon:"fa-solid fa-trash-can",flat:"",padding:"none",size:"sm",onClick:k=>i(x)(a.row)},null,8,["onClick"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"]),t(E,{align:"right"},{default:o(()=>[j(t(u,{flat:"",label:"Close",color:"primary"},null,512),[[P]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{ae as default};

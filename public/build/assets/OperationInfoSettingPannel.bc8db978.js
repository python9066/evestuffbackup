import{u as D,r,c as h,h as y,e as _,f as a,m as c,w as o,q as $,aD as F,j as g,A as w,l as i,x as H,aU as j,aV as G,y as C,aP as M,B as z,aE as E,v as Q,ab as N,F as W,G as V}from"./app.94516e8c.js";import{Q as O}from"./QSelect.c035ddb5.js";import{Q as K}from"./QItemLabel.e6717fed.js";import{Q as J}from"./QToggle.c77609b1.js";import{Q as X}from"./QChip.22faebdf.js";import{Q as Y}from"./QOptionGroup.6d5e127b.js";import"./use-checkbox.910db886.js";import"./QRadio.1ad11f14.js";import"./QCheckbox.09c38d36.js";const Z={class:"no-margin"},ee={class:"text-xs"},te={class:"row items-center"},ve={__name:"OperationInfoSettingPannel",setup(le){let n=D(),p=r(!1),d=r([]),u=r(),m=r(),s=r([]),L=r([{label:"Check List",value:"check_list"},{label:"Fleet Table",value:"fleet_table"},{label:"Recon List",value:"recon_table"},{label:"System Table",value:"system_table"}]),S=l=>s.value.includes(l.value)?l.label+" - show":l.label+" - hide",I=l=>{let t=0;return s.value.includes(l)?t=1:t=0,l+" - "+t},T=l=>s.value.includes(l)?"text-primary":"text-negative",v=h(()=>m.value?n.operationInfoOperationList.filter(l=>l.title.toLowerCase().indexOf(m.value)>-1):n.operationInfoOperationList),k=(l,t,e)=>{t(()=>{m.value=l.toLowerCase(),v.value.length>0&&l&&(u.value=v.value[0])})},f=r(),U=h(()=>f.value?n.systemlist.filter(l=>l.text.toLowerCase().indexOf(f.value)>-1):n.systemlist),A=(l,t,e)=>{t(()=>{f.value=l.toLowerCase()})},P=()=>{d.value=n.getOperationInfoSystemList,s.value=n.getOperationInfoTableStatus,u.value=n.operationInfoOperationList.find(l=>l.id==n.operationInfoPage.operation_id)},x=()=>{},R=()=>{var e;let l=null;u.value&&(l=u.value.id);var t={operation_id:l,systemsToUpdate:(e=d.value)!=null?e:[],show:s.value};axios({method:"post",url:"/api/operationinfosheet/"+n.operationInfoPage.id,withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}})};return(l,t)=>(y(),_(W,null,[a(c,{color:"warning",icon:"fa-solid fa-gears",flat:"",padding:"none",onClick:t[0]||(t[0]=e=>p.value=!0)}),a(N,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=e=>p.value=e),onBeforeShow:t[6]||(t[6]=e=>i(P)()),persistent:""},{default:o(()=>[a($,{class:"myRoundTop",style:{width:"700px","max-width":"80vw"}},{default:o(()=>[a(F,{class:"bg-primary text-h5 text-center"},{default:o(()=>[g("h5",Z," Globle Setting for Operation - "+w(i(n).operationInfoPage.name),1)]),_:1}),a(F,null,{default:o(()=>[a(O,{rounded:"",dense:"",clearable:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"id","option-label":"title",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),options:v.value,ref:"toRegionRef",label:"Which Hacking Operation would you like to add",onFilter:i(k),onFilterAbort:i(x),"map-options":"","use-input":"","hide-selected":"","fill-input":""},null,8,["modelValue","options","onFilter","onFilterAbort"]),a(O,{rounded:"",class:"q-pt-sm",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),options:U.value,onFilter:i(A),onFilterAbort:i(x),label:"Which none hacking Operation Systems would you like to add","use-input":"","use-chips":"",multiple:""},{option:o(({itemProps:e,opt:b,selected:B,toggleOption:q})=>[a(H,j(G(e)),{default:o(()=>[a(C,null,{default:o(()=>[a(K,{innerHTML:b.text},null,8,["innerHTML"])]),_:2},1024),a(C,{side:""},{default:o(()=>[a(J,{"model-value":B,"onUpdate:modelValue":ae=>q(b)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":o(e=>[a(X,{removable:"",onRemove:b=>e.removeAtIndex(e.index),tabindex:e.tabindex,"text-color":"white",class:"q-ma-none"},{default:o(()=>[g("span",ee,w(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),a(Y,{class:"q-pt-md",modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),options:L.value,color:"yellow",dense:"",type:"toggle"},{label:o(e=>[g("div",te,[a(M,{mode:"out-in","enter-active-class":"animate__animated animate__flash","leave-active-class":"animate__animated animate__flash"},{default:o(()=>[(y(),_("span",{key:i(I)(e.value),class:z(i(T)(e.value))},w(i(S)(e)),3))]),_:2},1024)])]),_:1},8,["modelValue","options"])]),_:1}),a(E,{align:"center"},{default:o(()=>[Q(a(c,{color:"positive",label:"Update",onClick:t[4]||(t[4]=e=>i(R)()),rounded:""},null,512),[[V]]),Q(a(c,{label:"Close",rounded:"",color:"negative"},null,512),[[V]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{ve as default};

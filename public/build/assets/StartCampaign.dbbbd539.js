import{z as x,n as S,q as k,v as r,_ as c,w as T,x as E,r as m,e as D,o as A,c as B,a as t,y as n,A as o,N as I,C as i,D as d,aE as N}from"./app.e311c8d7.js";import{Q as p}from"./QTd.8bb5d284.js";import{Q as R}from"./QTable.c1752f2a.js";import"./QSeparator.58649ec0.js";import"./QMarkupTable.3f1d7c4b.js";import"./QSelect.78285059.js";import"./QItemLabel.17844741.js";import"./QLinearProgress.1c72e58b.js";import"./QCheckbox.7b391117.js";const V={class:"q-ma-md"},$={class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},q={class:"col-12 flex flex-center"},P=o("span",{class:"text-h4"},"Initial Campaigns",-1),Q={class:"row justify-end items-baseline"},z={class:"col-auto"},L={class:"col-auto"},X={__name:"StartCampaign",setup(j){x(e=>({"6cb89edc":b.value}));let a=S(),u=k();const _=r(()=>c(()=>import("./AddStartCampaign.f6a60026.js"),["assets/AddStartCampaign.f6a60026.js","assets/app.e311c8d7.js","assets/app.78479e83.css","assets/QItemLabel.17844741.js","assets/QToggle.3d167bef.js","assets/QCheckbox.7b391117.js","assets/QSelect.78285059.js"])),g=r(()=>c(()=>import("./StartSystemItemList.ab642153.js"),["assets/StartSystemItemList.ab642153.js","assets/QSelect.78285059.js","assets/app.e311c8d7.js","assets/app.78479e83.css","assets/QItemLabel.17844741.js"]));T(async()=>{a.getConstellationList(),a.getStartCampaigns(),l(),Echo.private("startcampaigns").listen("StartcampaignUpdate",e=>{a.getStartCampaigns(),l()})}),E(async()=>{Echo.leave("startcampaigns")});let l=()=>{a.getStartCampaignJoinData()},f=async e=>{await N({method:"delete",url:"/api/startcampaigns/"+e.id,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}),a.getStartCampaigns()},C=m({descending:!1,page:1,rowsPerPage:0}),h=m([{name:"name",align:"left",required:!1,label:"Name",classes:"text-no-wrap",field:e=>e.name,format:e=>`${e}`,sortable:!1},{name:"system",required:!0,align:"center",label:"Constellations - Target",field:e=>e.system,format:e=>`${e}`,sortable:!1,filter:!0},{name:"actions",align:"right",classes:"text-no-wrap",label:"",field:e=>e.id,format:e=>`${e}`,sortable:!1,filter:!0}]),w=e=>{console.log(e),u.push({path:`/scampaign/${e.link}`})},b=D(()=>{let e=50;return a.size.height-e+"px"});return(e,y)=>(A(),B("div",V,[t(R,{title:"Connections",class:"myCustomTables myRound bg-webBack",rows:i(a).startcampaigns,columns:h.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","no-data-label":"No Starting Campaigns","row-key":"id",dark:"",dense:"",ref:"tableRef",rounded:"",pagination:C.value},{top:n(s=>[o("div",$,[o("div",q,[P,I(),t(i(_))])])]),"body-cell-system":n(s=>[t(p,{props:s},{default:n(()=>[t(i(g),{campaignID:s.row.id},null,8,["campaignID"])]),_:2},1032,["props"])]),"body-cell-actions":n(s=>[t(p,null,{default:n(()=>[o("div",Q,[o("div",z,[t(d,{color:"negative",icon:"fa-solid fa-trash-can",flat:"",size:"sm",round:"",onClick:v=>i(f)(s.row)},null,8,["onClick"])]),o("div",L,[t(d,{color:"primary",rounded:"",size:"sm",label:"view",onClick:v=>i(w)(s.row)},null,8,["onClick"])])])]),_:2},1024)]),_:1},8,["rows","columns","pagination"])]))}};export{X as default};

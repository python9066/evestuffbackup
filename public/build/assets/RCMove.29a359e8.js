import{i as G,u as H,aA as J,d as C,r as v,o as K,b as W,c as x,e as _,f as l,w as i,l as o,g as X,_ as T,h as m,j as s,Q as I,k as ee,z as u,A as r,D as $,B as D,n as S,C as h,m as y,aE as te}from"./app.ad4e6bf9.js";import{Q as c}from"./QTd.4d9e2801.js";import{a as ae}from"./QSelect.6524a9da.js";import{Q as le}from"./QTr.18c4e5f9.js";import{Q as oe}from"./QTable.733f4433.js";import{c as q}from"./copy-to-clipboard.92028133.js";import"./QItemLabel.b57963e7.js";import"./QSeparator.730851ff.js";import"./QMarkupTable.8b353314.js";import"./QLinearProgress.ee02f8d4.js";import"./QCheckbox.63041c32.js";import"./use-checkbox.d1ed2654.js";const ie={class:"q-ma-md"},ne=s("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[s("div",{class:"col-12 flex flex-center"},[s("span",{class:"text-h4"},"Timers to input to RC")])],-1),se={class:"row full-width q-pt-md justify-between"},re={class:"col-auto"},ce={class:"row q-gutter-sm q-pl-md"},fe={class:"col-auto"},ue={class:"row q-pr-md q-gutter-sm"},de=["src"],me=["src"],pe={key:0,class:"text-red"},_e={key:0},ge={key:1},ve={class:"row spacear"},he={class:"col-auto"},ye={class:"col-auto"},Ae={__name:"RCMove",setup(be){X(e=>({"96d663d4":L.value}));let p=G("can"),f=H();const b=J(),k=C(()=>T(()=>import("./AddStation.4878a85f.js"),["assets/AddStation.4878a85f.js","assets/app.ad4e6bf9.js","assets/app.7b67968f.css","assets/QTabPanels.0ca76671.js","assets/QSelect.6524a9da.js","assets/QItemLabel.b57963e7.js","assets/QSeparator.730851ff.js","assets/QOptionGroup.75223007.js","assets/QRadio.d4b1c167.js","assets/use-checkbox.d1ed2654.js","assets/QCheckbox.63041c32.js","assets/QToggle.df3a59ce.js"])),E=C(()=>T(()=>import("./index.5d6436d7.js"),["assets/index.5d6436d7.js","assets/app.ad4e6bf9.js","assets/app.7b67968f.css"]));let g=v();K(async()=>{p("finish_move_timer")?(Echo.private("rcmovesheet").listen("RcMoveUpdate",e=>{e.flag.message!=null&&f.updateStationNotification(e.flag.message)}).listen("RcMoveDelete",e=>{f.deleteStationNotification(e.flag.id)}),await f.getStationData()):(Echo.private("rcmovesheet").listen("RcMoveUpdate",e=>{e.flag.message!=null&&e.flag.message.added_by_user_id==this.user_id&&f.updateStationNotification(e.flag.message)}).listen("RcMoveDelete",e=>{f.deleteStationNotification(e.flag.id)}),f.getStationDataByUserId()),R()}),W(async()=>{Echo.leave("finsish_move_timer"),Echo.leave("RcMoveDelete")});let R=()=>{p("finish_move_timer")?document.title="Evestuff - Timers to move":document.title="Evestuff - Add Timer"},Q=e=>{const a={};return Object.entries(e).forEach(([t,n])=>{a[t]=n<10?`0${n}`:String(n)}),a},A=e=>{var a=0;return e.corp.alliance?a=e.corp.alliance.standing:a=e.corp.standing,a>0?"text-blue":a<0?"text-red":""},N=e=>{var a=0;return e.corp.alliance?a=e.corp.alliance.standing:a=e.corp.standing,a>0?"text-blue":a<0?"text-red":""},d=e=>{q(e).then(()=>{b.notify({type:"info",message:e+" copied to your clipboard"})})},V=e=>{if(e==1)return"success";if(e==2)return"primary";if(e==3)return"#FF5EEA";if(e==4||e==11||e==13)return"orange";if(e==5)return"indigo accent-4";if(e==6)return"primary";if(e==7)return"red";if(e==8||e==9)return"warning";if(e==14)return"deep-orange darken-2"},B=e=>{if(e==1)return"fa-solid fa-plus";if(e==2)return"fa-solid fa-route";if(e==3)return"fa-solid fa-hand-fist";if(e==4)return"fa-solid fa-thumbs-up";if(e==5||e==13)return"fa-solid fa-clock";if(e==6)return"fa-solid fa-life-ring";if(e==7)return"fa-solid fa-dumpster-fire";if(e==8)return"fa-solid fa-shield-halved";if(e==9)return"fa-solid fa-house-chimney-crack";if(e==11)return"fa-solid fa-toolbox";if(e==14)return"fa-solid fa-anchor"},M=e=>{const a=new Date(e+"Z"),t=Date.now();return a.getTime()-t},z=e=>{var a=e.replace(/\s+/g,"");a=a.replace(/[:]/g,""),a=a.replace(/[-]/g,""),a=a.substring(2),q(a).then(()=>{b.notify({type:"info",message:"Absolute time copied to your clipboard"})})},w=async(e,a)=>{var t={status:e};await te({method:"put",url:"api/timer/statusupdate/"+a,withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}})},P=v({sortBy:"time",descending:!1,page:1,rowsPerPage:0}),j=v([{name:"region",align:"center",required:!1,label:"Region",classes:"text-no-wrap",field:e=>e.system.region.region_name,format:e=>`${e}`,sortable:!1},{name:"constellation",required:!0,align:"left",label:"Constellation",classes:"text-no-wrap",field:e=>e.system.constellation.constellation_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"system",required:!0,align:"left",label:"System",classes:"text-no-wrap",field:e=>e.system.system_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"corp",align:"left",classes:"text-no-wrap",label:"Corp",field:e=>e.corp.ticker,format:e=>`${e}`,sortable:!1,filter:!0},{name:"alliance",align:"left",required:!0,classes:"text-no-wrap",label:"Alliance",field:e=>e.alliance_id>0?e.alliance.ticker:"",format:e=>`${e}`,sortable:!1,filter:!0},{name:"type",align:"left",required:!0,label:"Type",classes:"text-no-wrap",field:e=>e.item.item_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"name",label:"Name",classes:"text-no-wrap",sortable:!1,filter:!1,field:e=>e.name,format:e=>`${e}`},{name:"timeStamp",label:"Time",classes:"text-no-wrap",align:"center",sortable:!1,field:e=>e.out_time,format:e=>`${e}`},{name:"count",label:"Countdown",align:"center",classes:"text-no-wrap",sortable:!1,field:e=>e.out_time,format:e=>`${e}`},{name:"status",label:"Status",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.status.name,format:e=>e.replace("Upcoming - ","")},{name:"actions1",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`},{name:"actions2",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`}]),U=x(()=>p("finish_move_timer")?"No timers found":"No timers found. You can only see timers you created."),L=x(()=>{let e=30;return f.size.height-e+"px"});return(e,a)=>(m(),_("div",ie,[l(oe,{title:"Connections",class:"myTableMoveRC myRound bg-webBack",rows:o(f).stations,columns:j.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id",dark:"",dense:"","no-data-label":U.value,filter:g.value,ref:"tableRef",rounded:"",pagination:P.value},{top:i(t=>[ne,s("div",se,[s("div",re,[s("div",ce,[l(I,{rounded:"",standout:"",dense:"",debounce:"300",modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=n=>g.value=n),clearable:"",placeholder:"Search"},{append:i(()=>[l(ee,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue"])])]),s("div",fe,[s("div",ue,[l(o(k))])])])]),body:i(t=>[l(le,{props:t},{default:i(()=>[l(c,{key:"region",props:t},{default:i(()=>[u(r(t.cols[0].value),1)]),_:2},1032,["props"]),l(c,{key:"constellation",props:t},{default:i(()=>[u(r(t.cols[1].value),1)]),_:2},1032,["props"]),l(c,{key:"system",props:t,onClick:n=>o(d)(t.cols[2].value),class:"cursor-pointer"},{default:i(()=>[u(r(t.cols[2].value),1)]),_:2},1032,["props","onClick"]),l(c,{key:"corp",props:t,onClick:n=>o(d)(t.cols[3].value),class:"cursor-pointer"},{default:i(()=>[l($,{size:"lg",class:"q-pr-xl"},{default:i(()=>[s("img",{src:t.row.corp.url},null,8,de)]),_:2},1024),s("span",{class:D(o(A)(t.row))},r(t.cols[3].value),3)]),_:2},1032,["props","onClick"]),l(c,{key:"alliance",props:t,onClick:n=>o(d)(t.cols[4].value),class:"cursor-pointer"},{default:i(()=>[t.cols[4].value?(m(),S($,{key:0,size:"lg",class:"q-pr-xl"},{default:i(()=>[s("img",{src:t.row.corp.alliance.url},null,8,me)]),_:2},1024)):h("",!0),s("span",{class:D(o(N)(t.row))},r(t.cols[4].value),3)]),_:2},1032,["props","onClick"]),l(c,{key:"type",props:t,onClick:n=>o(d)(t.cols[5].value),class:"cursor-pointer"},{default:i(()=>[u(r(t.cols[5].value),1)]),_:2},1032,["props","onClick"]),l(c,{key:"name",props:t,onClick:n=>o(d)(t.cols[6].value),class:"cursor-pointer"},{default:i(()=>[u(r(t.cols[6].value),1)]),_:2},1032,["props","onClick"]),l(c,{class:"cursor-pointer",key:"timeStamp",props:t,onClick:n=>o(z)(t.cols[7].value)},{default:i(()=>[u(r(t.cols[7].value),1)]),_:2},1032,["props","onClick"]),l(c,{key:"count",props:t},{default:i(()=>[l(o(E),{time:o(M)(t.cols[8].value),interval:1e3,transform:o(Q)},{default:i(({days:n,hours:O,minutes:F,seconds:Y,totalMilliseconds:Z})=>[Z>0?(m(),_("span",pe,[n>0?(m(),_("span",_e,r(n)+" Days -",1)):h("",!0),u(" "+r(O)+":"+r(F)+":"+r(Y),1)])):(m(),_("span",ge," Timer Done"))]),_:2},1032,["time","transform"])]),_:2},1032,["props"]),l(c,{key:"status",props:t,onClick:n=>o(d)(t.cols[9].value),class:"cursor-pointer"},{default:i(()=>[l(ae,{clickable:"",color:o(V)(t.row.station_status_id),icon:o(B)(t.row.station_status_id),label:t.cols[9].value},null,8,["color","icon","label"])]),_:2},1032,["props","onClick"]),l(c,{key:"actions1",props:t},{default:i(()=>[l(y,{color:"none",flat:"",rounded:"","text-color":"positive",icon:"fa-solid fa-image",href:t.row.timer_image_link,target:"_blank"},null,8,["href"])]),_:2},1032,["props"]),l(c,{key:"actions2",props:t},{default:i(()=>[s("div",ve,[s("div",he,[l(o(k),{from:3,station:t.row},null,8,["station"])]),s("div",ye,[o(p)("finish_move_timer")?(m(),S(y,{key:0,flat:"",round:"",padding:"none",size:"md",color:"positive",icon:"fa-solid fa-circle-check",onClick:n=>o(w)(1,t.row.id)},null,8,["onClick"])):h("",!0),l(y,{flat:"",round:"",padding:"none",size:"md",color:"negative",icon:"fa-solid fa-circle-xmark",onClick:n=>o(w)(2,t.row.id)},null,8,["onClick"])])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","no-data-label","filter","pagination"])]))}};export{Ae as default};

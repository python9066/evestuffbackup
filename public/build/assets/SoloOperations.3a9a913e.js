import{ac as ve,ad as be,ae as ke,r as _,af as he,ag as b,y as Se,s as xe,e as p,o as a,c as n,a as l,w as i,ah as k,ai as c,aj as Ce,Q as B,ak as r,ab as N,al as y,Y as Oe,am as Ve,z as Te,an as Le,ao as Re,t as u,ap as Qe,aq as m,b as v,ar as Ie,as as Ue,a0 as De,$ as Fe,at as Ae,R as Ee,au as Be,av as $e}from"./app.2d831a69.js";import{Q as qe,b as G,c as Pe,a as w,d as f}from"./QTable.30d767f1.js";import{Q as $,a as Me}from"./QAvatar.34450515.js";import{_ as ze,Q as We}from"./_plugin-vue_export-helper.a22cb7c3.js";const R=O=>(Be("data-v-dfc898b7"),O=O(),$e(),O),je={class:"q-ma-md"},He=R(()=>c("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[c("div",{class:"col-12 flex flex-center"},[c("span",{class:"text-h4"},"Operations")])],-1)),Ne={class:"row full-width q-pt-md justify-between"},Ge={class:"col-auto"},Je={class:"row q-gutter-sm q-pl-md"},Ye={class:"col-auto"},Ke={class:"row q-pr-md q-gutter-sm"},Xe=R(()=>c("div",{class:"row"},[c("div",{class:"col"},[c("span",{class:"myFont"},"Webway")])],-1)),Ze={class:"row"},et={class:"col"},tt={key:1},at={key:0},lt={key:1},nt={key:0},ot={key:1},st={key:0},it={key:1},rt={class:"row items-baseline"},ct={key:0,class:"col-auto"},ut={class:"rainbow-2 pr-2"},dt={class:"col-auto"},mt=["src"],_t={key:0},pt={key:0,class:"text-blue"},ft={key:1,class:"text-red"},gt={key:2,class:""},wt={key:1},yt={key:1,class:"col-auto"},vt={class:"rainbow-2 pr-2"},bt={key:0},kt={key:1},ht={key:0},St={key:1},xt={key:0},Ct={key:0},Ot={key:1},Vt={key:1},Tt={key:0},Lt={key:1},Rt={key:0},Qt={key:0},It={key:1},Ut={key:2},Dt={key:0,class:"text-md-center text-green"},Ft=R(()=>c("span",{class:"font-weight-bold"}," WON ",-1)),At={key:1,class:"text-md-center text-red"},Et=R(()=>c("span",{class:"font-weight-bold"}," LOST ",-1)),Bt={class:"row no-gutters justify-start items-center"},$t={class:"col-5"},qt={key:0},Pt={class:"text-positive"},Mt={key:0},zt={key:1},Wt={class:"text-positive"},jt={key:0},Ht={__name:"SoloOperations",setup(O){ve(e=>({"773b8b32":ye.value}));let d=be(),Q=ke("can"),h=_(0),J=he(),I=_("");const Y=b(()=>k(()=>import("./SoloCampaignProgressLine.0420fea5.js"),["assets/SoloCampaignProgressLine.0420fea5.js","assets/app.2d831a69.js","assets/app.4ba9f0e4.css","assets/QBadge.7eeac7d3.js","assets/QTable.30d767f1.js"])),K=b(()=>k(()=>import("./index.e153b9e1.js"),["assets/index.e153b9e1.js","assets/app.2d831a69.js","assets/app.4ba9f0e4.css"])),X=b(()=>k(()=>import("./SoloCampaignOperationChip.d3b31805.js"),["assets/SoloCampaignOperationChip.d3b31805.js","assets/app.2d831a69.js","assets/app.4ba9f0e4.css","assets/QTable.30d767f1.js"])),Z=b(()=>k(()=>import("./CampaignMap.1f787334.js"),["assets/CampaignMap.1f787334.js","assets/app.2d831a69.js","assets/app.4ba9f0e4.css"])),ee=b(()=>k(()=>import("./SoloCampaginWebWay.51daa3fa.js"),["assets/SoloCampaginWebWay.51daa3fa.js","assets/app.2d831a69.js","assets/app.4ba9f0e4.css"])),te=b(()=>k(()=>import("./NewCampaginPriorityButton.ce9d8d47.js"),["assets/NewCampaginPriorityButton.ce9d8d47.js","assets/app.2d831a69.js","assets/app.4ba9f0e4.css"]));Se(async()=>{await d.getWebwayStartSystems(),await d.getSoloOperationList(),Echo.private("solooperation").listen("SoloOperationUpdate",e=>{e.flag.flag==1&&d.updateSoloOperationList(e.flag.message)})}),xe(async()=>{Echo.leave("solooperation")}),document.title="Evestuff - Operations";let q=()=>{},S=_(null),U=_(),ae=_(!1),V=_(32458),x=_(null),T=_(1),D=p(()=>U.value?d.newSoloOperationsRegionList.filter(e=>e.text.toLowerCase().indexOf(U.value)>-1):d.newSoloOperationsRegionList),le=(e,o,t)=>{o(()=>{U.value=e.toLowerCase(),D.value.length>0&&e&&(S.value=D.value[0])})},C=_(null),F=_(),A=p(()=>F.value?d.newSoloOperationsConstellationList.filter(e=>e.text.toLowerCase().indexOf(F.value)>-1):d.newSoloOperationsConstellationList),ne=(e,o,t)=>{o(()=>{F.value=e.toLowerCase(),A.value.length>0&&e&&(C.value=A.value[0])})},oe=p(()=>h.value==0?"fa-regular fa-bell":"fa-solid fa-bell"),se=()=>{},ie=()=>{h.value==0?h.value=1:h.value=0},P=p(()=>V.value?d.newSoloOperations.filter(e=>e.campaign[0].event_type==V.value):d.newSoloOperations),M=p(()=>S.value?P.value.filter(e=>e.campaign[0].constellation.region_id==S.value.value):P.value),L=p(()=>C.value?M.value.filter(e=>e.campaign[0].constellation_id==C.value.value):M.value),z=p(()=>x.value?x.value==3?L.value.filter(e=>e.campaign[0].alliance.color==3):x.value==2?L.value.filter(e=>e.campaign[0].alliance.standing>0):L.value.filter(e=>e.campaign[0].alliance.standing<=0):L.value),E=p(()=>h.value==1?z.value.filter(e=>e.priority==1):z.value),re=p(()=>T.value==1?E.value.filter(e=>e.campaign[0].status_id==5||e.campaign[0].status_id==1||e.campaign[0].status_id==2):T.value==2?E.value.filter(e=>e.campaign[0].status_id==5||e.campaign[0].status_id==2):E.value.filter(e=>e.campaign[0].status_id==3||e.campaign[0].status_id==4)),W=e=>e==32458?"Ihub":"TCU",j=e=>{if(e.campaign[0].system.webway.length>0){var o=e.campaign[0].system.webway,t=o.filter(g=>g.start_system_id==d.webwaySelectedStartSystem.value);if(t.length>0){var s=t[0].jumps;return s}else return null}else return null},ce=e=>{var o={value:e.value,text:e.text};ae.value=!1,d.updateWebwaySelectedStartSystem(o)},H=e=>{if(e.campaign[0].system.webway.length>0){var o=e.campaign[0].system.webway,t=o.filter(g=>g.start_system_id==d.webwaySelectedStartSystem.value);if(t.length>0){var s=t[0].webway;return s}else return null}else return null},ue=p(()=>d.webwaySelectedStartSystem.length>0),de=p(()=>{var e=d.webwayStartSystems,o={value:30004759,text:"1DQ1-A"};return e.push(o),e.sort(function(t,s){return t.value-s.value||t.text.localeCompare(s.text)}),e}),me=e=>{var o=de.value.filter(t=>t.value!=e);return o},_e=e=>{if(e.priority==1)return"style-2"},pe=_({sortBy:"progress",descending:!1,page:1,rowsPerPage:0}),fe=e=>{Q("access_campaigns")&&(e.campaign[0].status_id==2||e.campaign[0].status_id==5)&&J.push({path:`/op/${e.link}`})},ge=_([{name:"webway",align:"center",required:!1,label:"Webway",classes:"text-no-wrap",field:e=>e.id,format:e=>`${e}`,sortable:!1},{name:"region",required:!0,align:"left",label:"Region",classes:"text-no-wrap",style:"width: 7%",field:e=>e.campaign[0].constellation.region.region_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"constellation",required:!0,align:"left",label:"Constellation",classes:"text-no-wrap",field:e=>e.campaign[0].constellation.constellation_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"system",align:"left",classes:"text-no-wrap",label:"System",field:e=>e.campaign[0].system.system_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"alliance",align:"left",required:!0,classes:"text-no-wrap",label:"Alliance",field:e=>e.campaign[0].alliance.name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"ticker",align:"left",required:!0,label:"Ticker",style:"width: 5%",classes:"text-no-wrap",field:e=>e.campaign[0].alliance.ticker,format:e=>`${e}`,sortable:!1,filter:!0},{name:"adm",label:"ADM",classes:"text-no-wrap",field:e=>e.campaign[0].system.adm,format:e=>`${e}`,sortable:!1,filter:!0},{name:"structure",label:"Structure",classes:"text-no-wrap",sortable:!1,filter:!1,field:e=>e.campaign[0].event_type,format:e=>e==32458?"IHUB":"TCU"},{name:"progress",label:"Start/Progress",classes:"text-no-wrap",align:"center",style:"width: 25%",sortable:!1,field:e=>e.campaign[0].start_time,format:e=>`${e}`},{name:"count",label:"Countdown/Age",align:"center",classes:"text-no-wrap",sortable:!1,field:e=>e.campaign[0].system.adm,format:e=>`${e}`},{name:"actions",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`}]),we=e=>{let o=e,s=new Date(o).getTimezoneOffset()*6e4;return Date.parse(o)-s},ye=p(()=>{let e=50;return d.size.height-e+"px"});return(e,o)=>(a(),n("div",je,[l(qe,{title:"Connections",class:"myTableOperations myRound bg-webBack",rows:re.value,columns:ge.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id",dark:"",dense:"",filter:I.value,ref:"tableRef",rounded:"",pagination:pe.value},{top:i(t=>[He,c("div",Ne,[c("div",Ge,[c("div",Je,[l(Ce,{rounded:"",standout:"",dense:"",debounce:"300",modelValue:I.value,"onUpdate:modelValue":o[0]||(o[0]=s=>I.value=s),clearable:"",placeholder:"Search"},{append:i(()=>[l(B,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue"]),l(G,{rounded:"",dense:"",clearable:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:S.value,"onUpdate:modelValue":o[1]||(o[1]=s=>S.value=s),options:D.value,ref:"toRegionRef",label:"Region",onFilter:r(le),onFilterAbort:r(q),"map-options":"","use-input":"","hide-selected":"","fill-input":""},null,8,["modelValue","options","onFilter","onFilterAbort"]),l(G,{rounded:"",clearable:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:C.value,"onUpdate:modelValue":o[2]||(o[2]=s=>C.value=s),options:A.value,ref:"toConstellationRef",label:"Constellations",onFilter:r(ne),onFilterAbort:r(q),"map-options":"","use-input":"","hide-selected":"","fill-input":""},null,8,["modelValue","options","onFilter","onFilterAbort"]),l(N,{dense:"",flat:"",round:"",icon:oe.value,onClick:o[3]||(o[3]=s=>r(ie)())},null,8,["icon"])])]),c("div",Ye,[c("div",Ke,[l($,{modelValue:V.value,"onUpdate:modelValue":o[4]||(o[4]=s=>V.value=s),rounded:"",unelevated:"",clearable:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Ihub",value:32458},{label:"TCU",value:32226}]},null,8,["modelValue"]),l($,{modelValue:x.value,"onUpdate:modelValue":o[5]||(o[5]=s=>x.value=s),rounded:"",unelevated:"",clearable:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Goon",value:3},{label:"Friendly",value:2},{label:"Hostile",value:1}]},null,8,["modelValue"]),l($,{modelValue:T.value,"onUpdate:modelValue":o[6]||(o[6]=s=>T.value=s),rounded:"",unelevated:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Upcoming",value:1},{label:"Active",value:2},{label:"Finished",value:3}]},null,8,["modelValue"])])])])]),"header-cell-webway":i(t=>[l(Pe,{props:t},{default:i(()=>[Xe,c("div",Ze,[c("div",et,[ue.value?(a(),y(N,{key:0,size:"sm",label:r(d).webwaySelectedStartSystem.text},{default:i(()=>[l(Oe,null,{default:i(()=>[l(Ve,{class:"my-card"},{default:i(()=>[l(Te,{bordered:""},{default:i(()=>[(a(!0),n(Le,null,Re(r(me)(r(d).webwaySelectedStartSystem.value),(s,g)=>Ue((a(),y(De,{clickable:"",key:g,onClick:Nt=>r(ce)(s)},{default:i(()=>[l(Fe,null,{default:i(()=>[v(u(s.text),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Ae],[Ee]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])):(a(),n("span",tt,u(r(d).webwaySelectedStartSystem.text),1))])])]),_:2},1032,["props"])]),body:i(t=>[l(We,{props:t,class:Qe(r(_e)(t.row)),onClick:s=>r(fe)(t.row)},{default:i(()=>[l(w,{key:"webway",props:t},{default:i(()=>[r(j)(t.row)&&r(H)(t.row)?(a(),y(r(ee),{key:0,jumps:r(j)(t.row),web:r(H)(t.row)},null,8,["jumps","web"])):m("",!0)]),_:2},1032,["props"]),l(w,{key:"region",props:t},{default:i(()=>[t.row.priority==0?(a(),n("span",at,u(t.row.campaign[0].constellation.region.region_name),1)):(a(),n("span",lt,[l(f,{label:t.row.campaign[0].constellation.region.region_name},null,8,["label"])]))]),_:2},1032,["props"]),l(w,{key:"constellation",props:t},{default:i(()=>[t.row.priority==0?(a(),n("span",nt,u(t.row.campaign[0].constellation.constellation_name),1)):(a(),n("span",ot,[l(f,{size:"md",label:t.row.campaign[0].constellation.constellation_name},null,8,["label"])]))]),_:2},1032,["props"]),l(w,{key:"system",props:t},{default:i(()=>[t.row.priority==0?(a(),n("span",st,u(t.row.campaign[0].system.system_name),1)):(a(),n("span",it,[l(f,{label:t.row.campaign[0].system.system_name},null,8,["label"])]))]),_:2},1032,["props"]),l(w,{key:"alliance",props:t},{default:i(()=>[c("div",rt,[t.row.priority==1?(a(),n("div",ct,[c("span",ut,[l(B,{size:"xs",name:"fa-solid fa-wand-magic-sparkles fa-bounce"})])])):m("",!0),c("div",dt,[l(Me,{size:"lg",class:"q-pr-xl"},{default:i(()=>[c("img",{src:t.row.campaign[0].alliance.url},null,8,mt)]),_:2},1024),t.row.priority==0?(a(),n("span",_t,[t.row.campaign[0].alliance.standing>0?(a(),n("span",pt,u(t.row.campaign[0].alliance.name),1)):t.row.campaign[0].alliance.standing<0?(a(),n("span",ft,u(t.row.campaign[0].alliance.name),1)):(a(),n("span",gt,u(t.row.campaign[0].alliance.name),1))])):(a(),n("span",wt,[t.row.campaign[0].alliance.standing>0?(a(),y(f,{key:0,color:"primary"},{default:i(()=>[v(u(t.row.campaign[0].alliance.name),1)]),_:2},1024)):t.row.campaign[0].alliance.standing<0?(a(),y(f,{key:1,color:"red","text-color":"white"},{default:i(()=>[v(u(t.row.campaign[0].alliance.name),1)]),_:2},1024)):(a(),y(f,{key:2},{default:i(()=>[v(u(t.row.campaign[0].alliance.name),1)]),_:2},1024))]))]),t.row.priority==1?(a(),n("div",yt,[c("span",vt,[l(B,{size:"xs",name:"fa-solid fa-wand-magic-sparkles fa-bounce"})])])):m("",!0)])]),_:2},1032,["props"]),l(w,{key:"ticker",props:t},{default:i(()=>[t.row.priority==0?(a(),n("span",bt,u(t.row.campaign[0].alliance.ticker),1)):(a(),n("span",kt,[l(f,{label:t.row.campaign[0].alliance.ticker},null,8,["label"])]))]),_:2},1032,["props"]),l(w,{key:"adm",props:t},{default:i(()=>[t.row.priority==0?(a(),n("span",ht,u(t.row.campaign[0].system.adm),1)):(a(),n("span",St,[l(f,{label:t.row.campaign[0].system.adm},null,8,["label"])]))]),_:2},1032,["props"]),l(w,{key:"structure",props:t},{default:i(()=>[t.row.priority==0?(a(),n("span",xt,[t.row.campaign[0].event_type==32458?(a(),n("span",Ct,"IHUB")):(a(),n("span",Ot,"TCU"))])):m("",!0),t.row.priority==1?(a(),n("span",Vt,[t.row.campaign[0].event_type==32458?(a(),n("span",Tt,[l(f,{label:"IHUB"})])):(a(),n("span",Lt,[l(f,{label:"TCU"})]))])):m("",!0)]),_:2},1032,["props"]),l(w,{key:"progress",props:t},{default:i(()=>[t.row.campaign[0].status_id==1||t.row.campaign[0].status_id==5?(a(),n("div",Rt,[t.row.priority==0?(a(),n("span",Qt,u(t.row.campaign[0].start_time),1)):(a(),n("span",It,[l(f,{label:t.row.campaign[0].start_time},null,8,["label"])]))])):t.row.campaign[0].status_id==2?(a(),y(r(Y),{key:1,attackScore:t.row.campaign[0].attackers_score,defenderScore:t.row.campaign[0].defenders_score,attackScoreOld:t.row.campaign[0].attackers_score_old,defenderScoreOld:t.row.campaign[0].defenders_score_old},null,8,["attackScore","defenderScore","attackScoreOld","defenderScoreOld"])):t.row.campaign[0].status_id==3||t.row.campaign[0].status_id==4?(a(),n("span",Ut,[t.row.campaign[0].attackers_score==0?(a(),n("p",Dt,[v(u(t.row.campaign[0].alliance.name)+" ",1),Ft,v(" the "+u(r(W)(t.row.campaign[0].event_type))+" timer. ",1)])):(a(),n("p",At,[v(u(t.row.campaign[0].alliance.name)+" ",1),Et,v(" the "+u(r(W)(t.row.campaign[0].event_type))+" timer. ",1)]))])):m("",!0)]),_:2},1032,["props"]),l(w,{key:"count",props:t},{default:i(()=>[c("div",Bt,[l(r(X),{row:t.row},null,8,["row"]),l(r(Z),{system_name:t.row.campaign[0].system.system_name,region_name:t.row.campaign[0].constellation.region.region_name},null,8,["system_name","region_name"]),c("div",$t,[t.row.campaign[0].structure!=null?(a(),y(r(K),{key:0,class:"q-pl-sm",time:r(we)(t.row.campaign[0].structure.age),interval:6e4},{default:i(({hours:s,days:g})=>[t.row.priority==0?(a(),n("span",qt,[c("span",Pt,[g!=0?(a(),n("span",Mt,u(g)+" Days - ",1)):m("",!0),v(" "+u(s)+" Hours ",1)])])):m("",!0),t.row.priority==1?(a(),n("span",zt,[c("span",Wt,[l(f,{class:"text-positive"},{default:i(()=>[g!=0?(a(),n("span",jt,u(g)+" Days - ",1)):m("",!0),v(" "+u(s)+" Hours ",1)]),_:2},1024)])])):m("",!0)]),_:2},1032,["time"])):m("",!0)])])]),_:2},1032,["props"]),r(Q)("edit_hack_priority")?(a(),y(w,{key:"actions",props:t,onClick:o[7]||(o[7]=Ie(s=>r(se)(),["stop"]))},{default:i(()=>[r(Q)("edit_hack_priority")?(a(),y(r(te),{key:0,row:t.row},null,8,["row"])):m("",!0)]),_:2},1032,["props"])):m("",!0)]),_:2},1032,["props","class","onClick"])]),_:1},8,["rows","columns","filter","pagination"])]))}},Xt=ze(Ht,[["__scopeId","data-v-dfc898b7"]]);export{Xt as default};

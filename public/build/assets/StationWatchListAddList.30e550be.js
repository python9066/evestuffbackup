import{u as me,r as i,c as x,h as q,e as ve,n as B,m as A,C as O,f as t,w as l,q as fe,aF as c,z as j,Q as N,l as m,x as U,ay as S,az as T,y as d,j as v,A as k,aI as xe,v as z,ah as ce,G as E}from"./app.d7f5085b.js";import{Q as G}from"./QSeparator.38220e22.js";import{Q}from"./QItemLabel.3cb0b024.js";import{Q as R}from"./QToggle.cdc084a8.js";import{Q as b,a as F}from"./QSelect.c10769ec.js";import"./use-checkbox.a2fc49bf.js";const be={class:"text-xs"},we=v("span",{class:"text-subtitle1"}," Here is where you select which stations, systems, constellations and regions you want to add to this list. ",-1),Le=v("br",null,null,-1),_e=v("span",{class:"text-subtitle2"}," If you cant find what you are looking for, make sure you have selected the correct region on the setting pannel.",-1),ye={class:"text-xs"},Ve={class:"text-xs"},he={class:"text-xs"},Ce={class:"text-xs"},Re={__name:"StationWatchListAddList",props:{edit:{type:Number,default:0},list:{type:Object,required:!1}},setup(J){const s=J;let u=me(),f=i(!1),w=i(null),L=i(null),_=i([]),D=i(),K=x(()=>D.value?u.stationWatchList.filter(a=>a.text.toLowerCase().indexOf(D.value)>-1):u.stationWatchList),X=(a,o,e)=>{o(()=>{D.value=a.toLowerCase()})},y=i([]),H=i(),Y=x(()=>H.value?u.systemdropdownlist.filter(a=>a.text.toLowerCase().indexOf(H.value)>-1):u.systemdropdownlist),Z=(a,o,e)=>{o(()=>{H.value=a.toLowerCase()})},V=i([]),W=i(),ee=x(()=>W.value?u.constellationDropDownlist.filter(a=>a.text.toLowerCase().indexOf(W.value)>-1):u.constellationDropDownlist),te=(a,o,e)=>{o(()=>{W.value=a.toLowerCase()})},h=i([]),M=i(),le=x(()=>M.value?u.regiondropdownlist.filter(a=>a.text.toLowerCase().indexOf(M.value)>-1):u.regiondropdownlist),oe=(a,o,e)=>{o(()=>{M.value=a.toLowerCase()})},C=i([]),I=i(),ae=x(()=>I.value?u.roleListForWatchListSetting.filter(a=>a.text.toLowerCase().indexOf(I.value)>-1):u.roleListForWatchListSetting),ne=(a,o,e)=>{o(()=>{I.value=a.toLowerCase()})},g=i([]),P=i(),ie=x(()=>P.value?u.userList.filter(a=>a.name.toLowerCase().indexOf(P.value)>-1):u.userList),se=(a,o,e)=>{o(()=>{P.value=a.toLowerCase()})},ue=async()=>{var a={name:w.value,description:L.value,station_id:_.value,system_id:y.value,constellation_id:V.value,region_id:h.value,role_id:C.value,user_id:g.value};s.edit==0?await axios({method:"post",url:"/api/watchlist",withCredentials:!0,data:a,headers:{Accept:"application/json","Content-Type":"application/json"}}):await axios({method:"put",url:"/api/watchlist/"+s.list.id,withCredentials:!0,data:a,headers:{Accept:"application/json","Content-Type":"application/json"}})},de=()=>{f.value=!1,w.value=null,L.value=null,_.value=[],y.value=[],V.value=[],h.value=[],C.value=[],g.value=[]},re=()=>{s.edit==1&&(w.value=s.list.name,L.value=s.list.description,_.value=s.list.settings.station_id,y.value=s.list.settings.system_id,V.value=s.list.settings.constellation_id,h.value=s.list.settings.region_id,C.value=s.list.settings.role_id,g.value=s.list.settings.user_id)},pe=x(()=>s.edit==0?"Add":"Update");return(a,o)=>(q(),ve("div",null,[s.edit==0?(q(),B(A,{key:0,color:"positive",icon:"fa-solid fa-plus",label:"Add",rounded:"",onClick:o[0]||(o[0]=e=>f.value=!f.value)})):O("",!0),s.edit==1?(q(),B(A,{key:1,color:"positive",flat:"",icon:"fa-solid fa-edit",round:"",size:"xs",onClick:o[1]||(o[1]=e=>f.value=!f.value)})):O("",!0),t(ce,{onBeforeShow:o[10]||(o[10]=e=>m(re)()),onBeforeHide:o[11]||(o[11]=e=>m(de)()),modelValue:f.value,"onUpdate:modelValue":o[12]||(o[12]=e=>f.value=e),persistent:""},{default:l(()=>[t(fe,{class:"myRoundTop"},{default:l(()=>[t(c,{class:"bg-primary text-center text-h3"},{default:l(()=>[j(" Make a WatchList ")]),_:1}),t(c,null,{default:l(()=>[t(N,{modelValue:w.value,"onUpdate:modelValue":o[2]||(o[2]=e=>w.value=e),dense:"",type:"text",label:"Name of Watch List"},null,8,["modelValue"])]),_:1}),t(c,null,{default:l(()=>[t(N,{modelValue:L.value,"onUpdate:modelValue":o[3]||(o[3]=e=>L.value=e),dense:"",type:"text",label:"What is this list for"},null,8,["modelValue"])]),_:1}),t(G,{color:"webChip"}),t(c,{class:"text-center text-subtitle1"},{default:l(()=>[j(" Here is where you select which roles and users can see this list ")]),_:1}),t(c,null,{default:l(()=>[t(b,{modelValue:C.value,"onUpdate:modelValue":o[4]||(o[4]=e=>C.value=e),"option-label":"text","option-value":"value",label:"Roles with access",options:ae.value,onFilter:m(ne),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"rolesDropDown","use-input":"","use-chips":"",multiple:""},{option:l(({itemProps:e,opt:n,selected:r,toggleOption:p})=>[t(U,S(T(e)),{default:l(()=>[t(d,null,{default:l(()=>[t(Q,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(d,{side:""},{default:l(()=>[t(R,{"model-value":r,"onUpdate:modelValue":$=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(F,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[v("span",be,k(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(b,{modelValue:g.value,"onUpdate:modelValue":o[5]||(o[5]=e=>g.value=e),"option-label":"name","option-value":"id",label:"Users with access",options:ie.value,onFilter:m(se),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"usersDropDown","use-input":"","use-chips":"",multiple:""},null,8,["modelValue","options","onFilter"])]),_:1}),t(G,{color:"webChip"}),t(c,{class:"text-center"},{default:l(()=>[we,Le,_e]),_:1}),t(c,null,{default:l(()=>[t(b,{modelValue:_.value,"onUpdate:modelValue":o[6]||(o[6]=e=>_.value=e),"option-label":"text","option-value":"value",label:"Stations",options:K.value,onFilter:m(X),"emit-value":"","map-options":"",rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway",ref:"stationsDropDown","use-input":"","use-chips":"",multiple:""},{option:l(({itemProps:e,opt:n,selected:r,toggleOption:p})=>[t(U,S(T(e)),{default:l(()=>[t(d,null,{default:l(()=>[t(Q,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(d,{side:""},{default:l(()=>[t(R,{"model-value":r,"onUpdate:modelValue":$=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(F,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[v("span",ye,k(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(b,{modelValue:y.value,"onUpdate:modelValue":o[7]||(o[7]=e=>y.value=e),"option-label":"text","option-value":"value",label:"Systems",options:Y.value,onFilter:m(Z),"emit-value":"","map-options":"",rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway",ref:"system","use-input":"","use-chips":"",multiple:""},{option:l(({itemProps:e,opt:n,selected:r,toggleOption:p})=>[t(U,S(T(e)),{default:l(()=>[t(d,null,{default:l(()=>[t(Q,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(d,{side:""},{default:l(()=>[t(R,{"model-value":r,"onUpdate:modelValue":$=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(F,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[v("span",Ve,k(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(b,{modelValue:V.value,"onUpdate:modelValue":o[8]||(o[8]=e=>V.value=e),dense:"","option-label":"text","option-value":"value",label:"Constellations",options:ee.value,onFilter:m(te),"emit-value":"","map-options":"",rounded:"",standout:"","input-debounce":"0","label-color":"webway",ref:"constelations","use-input":"","use-chips":"",multiple:""},{option:l(({itemProps:e,opt:n,selected:r,toggleOption:p})=>[t(U,S(T(e)),{default:l(()=>[t(d,null,{default:l(()=>[t(Q,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(d,{side:""},{default:l(()=>[t(R,{"model-value":r,"onUpdate:modelValue":$=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(F,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[v("span",he,k(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(b,{modelValue:h.value,"onUpdate:modelValue":o[9]||(o[9]=e=>h.value=e),dense:"","option-label":"text",regiondropdownlist:"",label:"Regions",options:le.value,onFilter:m(oe),"emit-value":"","map-options":"",rounded:"",standout:"","input-debounce":"0","label-color":"webway",ref:"regions","use-input":"","use-chips":"",multiple:""},{option:l(({itemProps:e,opt:n,selected:r,toggleOption:p})=>[t(U,S(T(e)),{default:l(()=>[t(d,null,{default:l(()=>[t(Q,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(d,{side:""},{default:l(()=>[t(R,{"model-value":r,"onUpdate:modelValue":$=>p(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(F,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[v("span",Ce,k(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])]),_:1}),t(xe,{align:"around"},{default:l(()=>[z(t(A,{rounded:"",color:"positive",label:pe.value,onClick:m(ue)},null,8,["label","onClick"]),[[E]]),z(t(A,{rounded:"",color:"negative",label:"close"},null,512),[[E]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{Re as default};

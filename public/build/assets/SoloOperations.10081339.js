import{u as be,i as ke,r as _,a as he,d as b,o as Se,b as xe,c as p,e as o,f as l,w as i,g as Ce,_ as k,h as a,j as c,Q as Oe,k as B,l as r,m as N,n as y,p as Ve,q as Te,s as Le,F as Qe,t as Re,v as Ie,x as De,y as Fe,z as v,A as u,B as Ue,C as m,D as Ae,E as G,G as Ee,R as Be,H as qe,I as $e}from"./app.5f968dd6.js";import{Q as J,a as f}from"./QSelect.f4161b3b.js";import{Q as q}from"./QBtnToggle.6af90812.js";import{Q as Pe,a as Me}from"./QTable.7f31855f.js";import{Q as g}from"./QTd.19e43503.js";import{Q as ze}from"./QTr.1167cf58.js";import{_ as We}from"./_plugin-vue_export-helper.cdc0426e.js";import"./QItemLabel.a4b2c47d.js";import"./QSeparator.fec68c73.js";import"./QMarkupTable.51a42252.js";import"./QLinearProgress.ce15d020.js";import"./QCheckbox.03bf6fd4.js";import"./use-checkbox.e91f3e99.js";const Q=O=>(qe("data-v-538628ab"),O=O(),$e(),O),je={class:"q-ma-md"},He=Q(()=>c("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[c("div",{class:"col-12 flex flex-center"},[c("span",{class:"text-h4"},"Operations")])],-1)),Ne={class:"row full-width q-pt-md justify-between"},Ge={class:"col-auto"},Je={class:"row q-gutter-sm q-pl-md"},Ke={class:"col-auto"},Xe={class:"row q-pr-md q-gutter-sm"},Ye=Q(()=>c("div",{class:"row"},[c("div",{class:"col"},[c("span",{class:"myFont"},"Webway")])],-1)),Ze={class:"row"},et={class:"col"},tt={key:1},at={key:0},lt={key:1},nt={key:0},ot={key:1},st={key:0},it={key:1},rt={class:"row items-baseline"},ct={key:0,class:"col-auto"},ut={class:"rainbow-2 pr-2"},dt={class:"col-auto"},mt=["src"],_t={key:0},pt={key:0,class:"text-blue"},ft={key:1,class:"text-red"},wt={key:2,class:""},gt={key:1},yt={key:1,class:"col-auto"},vt={class:"rainbow-2 pr-2"},bt={key:0},kt={key:1},ht={key:0},St={key:1},xt={key:0},Ct={key:0},Ot={key:1},Vt={key:1},Tt={key:0},Lt={key:1},Qt={key:0},Rt={key:0},It={key:1},Dt={key:2},Ft={key:0,class:"text-md-center text-green"},Ut=Q(()=>c("span",{class:"font-weight-bold"}," WON ",-1)),At={key:1,class:"text-md-center text-red"},Et=Q(()=>c("span",{class:"font-weight-bold"}," LOST ",-1)),Bt={class:"row no-gutters justify-start items-center"},qt={class:"col-5"},$t={key:0},Pt={class:"text-positive"},Mt={key:0},zt={key:1},Wt={class:"text-positive"},jt={key:0},Ht={__name:"SoloOperations",setup(O){Ce(e=>({"1904bee2":ve.value}));let d=be(),R=ke("can"),h=_(0),K=he(),I=_("");const X=b(()=>k(()=>import("./SoloCampaignProgressLine.0911adf6.js"),["assets/SoloCampaignProgressLine.0911adf6.js","assets/app.5f968dd6.js","assets/app.4fce15f2.css","assets/QBadge.8fe252ef.js","assets/QLinearProgress.ce15d020.js"])),Y=b(()=>k(()=>import("./index.ece6475e.js"),["assets/index.ece6475e.js","assets/app.5f968dd6.js","assets/app.4fce15f2.css"])),Z=b(()=>k(()=>import("./SoloCampaignOperationChip.7cbabfd1.js"),["assets/SoloCampaignOperationChip.7cbabfd1.js","assets/app.5f968dd6.js","assets/app.4fce15f2.css","assets/QSelect.f4161b3b.js","assets/QItemLabel.a4b2c47d.js"])),ee=b(()=>k(()=>import("./CampaignMap.81cfcbab.js"),["assets/CampaignMap.81cfcbab.js","assets/app.5f968dd6.js","assets/app.4fce15f2.css","assets/QTooltip.7ce0f2f3.js"])),te=b(()=>k(()=>import("./SoloCampaginWebWay.b630002b.js"),["assets/SoloCampaginWebWay.b630002b.js","assets/app.5f968dd6.js","assets/app.4fce15f2.css"])),ae=b(()=>k(()=>import("./NewCampaginPriorityButton.cfd05bc9.js"),["assets/NewCampaginPriorityButton.cfd05bc9.js","assets/app.5f968dd6.js","assets/app.4fce15f2.css"]));Se(async()=>{await d.getWebwayStartSystems(),await d.getSoloOperationList(),Echo.private("solooperation").listen("SoloOperationUpdate",e=>{e.flag.flag==1&&d.updateSoloOperationList(e.flag.message)})}),xe(async()=>{Echo.leave("solooperation")}),document.title="Evestuff - Operations";let $=()=>{},S=_(null),D=_(),le=_(!1),V=_(32458),x=_(null),T=_(1),F=p(()=>D.value?d.newSoloOperationsRegionList.filter(e=>e.text.toLowerCase().indexOf(D.value)>-1):d.newSoloOperationsRegionList),ne=(e,n,t)=>{n(()=>{D.value=e.toLowerCase(),F.value.length>0&&e&&(S.value=F.value[0])})},C=_(null),U=_(),A=p(()=>U.value?d.newSoloOperationsConstellationList.filter(e=>e.text.toLowerCase().indexOf(U.value)>-1):d.newSoloOperationsConstellationList),oe=(e,n,t)=>{n(()=>{U.value=e.toLowerCase(),A.value.length>0&&e&&(C.value=A.value[0])})},se=p(()=>h.value==0?"fa-regular fa-bell":"fa-solid fa-bell"),ie=()=>{},re=()=>{h.value==0?h.value=1:h.value=0},P=p(()=>V.value?d.newSoloOperations.filter(e=>e.campaign[0].event_type==V.value):d.newSoloOperations),M=p(()=>S.value?P.value.filter(e=>e.campaign[0].constellation.region_id==S.value.value):P.value),L=p(()=>C.value?M.value.filter(e=>e.campaign[0].constellation_id==C.value.value):M.value),z=p(()=>x.value?x.value==3?L.value.filter(e=>e.campaign[0].alliance.color==3):x.value==2?L.value.filter(e=>e.campaign[0].alliance.standing>0):L.value.filter(e=>e.campaign[0].alliance.standing<=0):L.value),E=p(()=>h.value==1?z.value.filter(e=>e.priority==1):z.value),ce=p(()=>T.value==1?E.value.filter(e=>e.campaign[0].status_id==5||e.campaign[0].status_id==1||e.campaign[0].status_id==2):T.value==2?E.value.filter(e=>e.campaign[0].status_id==5||e.campaign[0].status_id==2):E.value.filter(e=>e.campaign[0].status_id==3||e.campaign[0].status_id==4)),W=e=>e==32458?"Ihub":"TCU",j=e=>{if(e.campaign[0].system.webway.length>0){var n=e.campaign[0].system.webway,t=n.filter(w=>w.start_system_id==d.webwaySelectedStartSystem.value);if(t.length>0){var s=t[0].jumps;return s}else return null}else return null},ue=e=>{var n={value:e.value,text:e.text};le.value=!1,d.updateWebwaySelectedStartSystem(n)},H=e=>{if(e.campaign[0].system.webway.length>0){var n=e.campaign[0].system.webway,t=n.filter(w=>w.start_system_id==d.webwaySelectedStartSystem.value);if(t.length>0){var s=t[0].webway;return s}else return null}else return null},de=p(()=>!!(d.webwayStartSystems&&d.webwayStartSystems.length>0)),me=p(()=>{var e=d.webwayStartSystems,n={value:30004759,text:"1DQ1-A"};return e.push(n),e.sort(function(t,s){return t.value-s.value||t.text.localeCompare(s.text)}),e}),_e=e=>{var n=me.value.filter(t=>t.value!=e);return n},pe=e=>{if(e.priority==1)return"style-2"},fe=_({sortBy:"progress",descending:!1,page:1,rowsPerPage:0}),we=e=>{R("access_campaigns")&&(e.campaign[0].status_id==2||e.campaign[0].status_id==5)&&K.push({path:`/op/${e.link}`})},ge=_([{name:"webway",align:"center",required:!1,label:"Webway",classes:"text-no-wrap",field:e=>e.id,format:e=>`${e}`,sortable:!1},{name:"region",required:!0,align:"left",label:"Region",classes:"text-no-wrap",style:"width: 7%",field:e=>e.campaign[0].constellation.region.region_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"constellation",required:!0,align:"left",label:"Constellation",classes:"text-no-wrap",field:e=>e.campaign[0].constellation.constellation_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"system",align:"left",classes:"text-no-wrap",label:"System",field:e=>e.campaign[0].system.system_name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"alliance",align:"left",required:!0,classes:"text-no-wrap",label:"Alliance",field:e=>e.campaign[0].alliance.name,format:e=>`${e}`,sortable:!1,filter:!0},{name:"ticker",align:"left",required:!0,label:"Ticker",style:"width: 5%",classes:"text-no-wrap",field:e=>e.campaign[0].alliance.ticker,format:e=>`${e}`,sortable:!1,filter:!0},{name:"adm",label:"ADM",classes:"text-no-wrap",field:e=>e.campaign[0].system.adm,format:e=>`${e}`,sortable:!1,filter:!0},{name:"structure",label:"Structure",classes:"text-no-wrap",sortable:!1,filter:!1,field:e=>e.campaign[0].event_type,format:e=>e==32458?"IHUB":"TCU"},{name:"progress",label:"Start/Progress",classes:"text-no-wrap",align:"center",style:"width: 25%",sortable:!1,field:e=>e.campaign[0].start_time,format:e=>`${e}`},{name:"count",label:"Countdown/Age",align:"center",classes:"text-no-wrap",sortable:!1,field:e=>e.campaign[0].system.adm,format:e=>`${e}`},{name:"actions",label:"",align:"right",classes:"text-no-wrap",sortable:!1,field:e=>e.id,format:e=>`${e}`}]),ye=e=>{let n=e,s=new Date(n).getTimezoneOffset()*6e4;return Date.parse(n)-s},ve=p(()=>{let e=30;return d.size.height-e+"px"});return(e,n)=>(a(),o("div",je,[l(Pe,{title:"Connections",class:"myTableOperations myRound bg-webBack",rows:ce.value,columns:ge.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id",dark:"",dense:"",filter:I.value,ref:"tableRef",rounded:"",pagination:fe.value},{top:i(t=>[He,c("div",Ne,[c("div",Ge,[c("div",Je,[l(Oe,{rounded:"",standout:"",dense:"",debounce:"300",modelValue:I.value,"onUpdate:modelValue":n[0]||(n[0]=s=>I.value=s),clearable:"",placeholder:"Search"},{append:i(()=>[l(B,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue"]),l(J,{rounded:"",dense:"",clearable:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:S.value,"onUpdate:modelValue":n[1]||(n[1]=s=>S.value=s),options:F.value,ref:"toRegionRef",label:"Region",onFilter:r(ne),onFilterAbort:r($),"map-options":"","use-input":"","hide-selected":"","fill-input":""},null,8,["modelValue","options","onFilter","onFilterAbort"]),l(J,{rounded:"",clearable:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:C.value,"onUpdate:modelValue":n[2]||(n[2]=s=>C.value=s),options:A.value,ref:"toConstellationRef",label:"Constellations",onFilter:r(oe),onFilterAbort:r($),"map-options":"","use-input":"","hide-selected":"","fill-input":""},null,8,["modelValue","options","onFilter","onFilterAbort"]),l(N,{dense:"",flat:"",round:"",icon:se.value,onClick:n[3]||(n[3]=s=>r(re)())},null,8,["icon"])])]),c("div",Ke,[c("div",Xe,[l(q,{modelValue:V.value,"onUpdate:modelValue":n[4]||(n[4]=s=>V.value=s),rounded:"",unelevated:"",clearable:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Ihub",value:32458},{label:"TCU",value:32226}]},null,8,["modelValue"]),l(q,{modelValue:x.value,"onUpdate:modelValue":n[5]||(n[5]=s=>x.value=s),rounded:"",unelevated:"",clearable:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Goon",value:3},{label:"Friendly",value:2},{label:"Hostile",value:1}]},null,8,["modelValue"]),l(q,{modelValue:T.value,"onUpdate:modelValue":n[6]||(n[6]=s=>T.value=s),rounded:"",unelevated:"",color:"webDark","text-color":"gray","toggle-color":"primary","toggle-text-color":"gray",options:[{label:"Upcoming",value:1},{label:"Active",value:2},{label:"Finished",value:3}]},null,8,["modelValue"])])])])]),"header-cell-webway":i(t=>[l(Me,{props:t},{default:i(()=>[Ye,c("div",Ze,[c("div",et,[de.value?(a(),y(N,{key:0,color:"webChip",size:"sm",label:r(d).webwaySelectedStartSystem.text},{default:i(()=>[l(Ve,null,{default:i(()=>[l(Te,{class:"my-card"},{default:i(()=>[l(Le,{bordered:""},{default:i(()=>[(a(!0),o(Qe,null,Re(r(_e)(r(d).webwaySelectedStartSystem.value),(s,w)=>Ie((a(),y(De,{clickable:"",key:w,onClick:Nt=>r(ue)(s)},{default:i(()=>[l(Fe,null,{default:i(()=>[v(u(s.text),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Ee],[Be]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])):(a(),o("span",tt,u(r(d).webwaySelectedStartSystem.text),1))])])]),_:2},1032,["props"])]),body:i(t=>[l(ze,{props:t,class:Ue(r(pe)(t.row)),onClick:s=>r(we)(t.row)},{default:i(()=>[l(g,{key:"webway",props:t},{default:i(()=>[r(j)(t.row)&&r(H)(t.row)?(a(),y(r(te),{key:0,jumps:r(j)(t.row),web:r(H)(t.row)},null,8,["jumps","web"])):m("",!0)]),_:2},1032,["props"]),l(g,{key:"region",props:t},{default:i(()=>[t.row.priority==0?(a(),o("span",at,u(t.row.campaign[0].constellation.region.region_name),1)):(a(),o("span",lt,[l(f,{label:t.row.campaign[0].constellation.region.region_name},null,8,["label"])]))]),_:2},1032,["props"]),l(g,{key:"constellation",props:t},{default:i(()=>[t.row.priority==0?(a(),o("span",nt,u(t.row.campaign[0].constellation.constellation_name),1)):(a(),o("span",ot,[l(f,{size:"md",label:t.row.campaign[0].constellation.constellation_name},null,8,["label"])]))]),_:2},1032,["props"]),l(g,{key:"system",props:t},{default:i(()=>[t.row.priority==0?(a(),o("span",st,u(t.row.campaign[0].system.system_name),1)):(a(),o("span",it,[l(f,{label:t.row.campaign[0].system.system_name},null,8,["label"])]))]),_:2},1032,["props"]),l(g,{key:"alliance",props:t},{default:i(()=>[c("div",rt,[t.row.priority==1?(a(),o("div",ct,[c("span",ut,[l(B,{size:"xs",name:"fa-solid fa-wand-magic-sparkles fa-bounce"})])])):m("",!0),c("div",dt,[l(Ae,{size:"lg",class:"q-pr-xl"},{default:i(()=>[c("img",{src:t.row.campaign[0].alliance.url},null,8,mt)]),_:2},1024),t.row.priority==0?(a(),o("span",_t,[t.row.campaign[0].alliance.standing>0?(a(),o("span",pt,u(t.row.campaign[0].alliance.name),1)):t.row.campaign[0].alliance.standing<0?(a(),o("span",ft,u(t.row.campaign[0].alliance.name),1)):(a(),o("span",wt,u(t.row.campaign[0].alliance.name),1))])):(a(),o("span",gt,[t.row.campaign[0].alliance.standing>0?(a(),y(f,{key:0,color:"primary"},{default:i(()=>[v(u(t.row.campaign[0].alliance.name),1)]),_:2},1024)):t.row.campaign[0].alliance.standing<0?(a(),y(f,{key:1,color:"red","text-color":"white"},{default:i(()=>[v(u(t.row.campaign[0].alliance.name),1)]),_:2},1024)):(a(),y(f,{key:2},{default:i(()=>[v(u(t.row.campaign[0].alliance.name),1)]),_:2},1024))]))]),t.row.priority==1?(a(),o("div",yt,[c("span",vt,[l(B,{size:"xs",name:"fa-solid fa-wand-magic-sparkles fa-bounce"})])])):m("",!0)])]),_:2},1032,["props"]),l(g,{key:"ticker",props:t},{default:i(()=>[t.row.priority==0?(a(),o("span",bt,u(t.row.campaign[0].alliance.ticker),1)):(a(),o("span",kt,[l(f,{label:t.row.campaign[0].alliance.ticker},null,8,["label"])]))]),_:2},1032,["props"]),l(g,{key:"adm",props:t},{default:i(()=>[t.row.priority==0?(a(),o("span",ht,u(t.row.campaign[0].system.adm),1)):(a(),o("span",St,[l(f,{label:t.row.campaign[0].system.adm},null,8,["label"])]))]),_:2},1032,["props"]),l(g,{key:"structure",props:t},{default:i(()=>[t.row.priority==0?(a(),o("span",xt,[t.row.campaign[0].event_type==32458?(a(),o("span",Ct,"IHUB")):(a(),o("span",Ot,"TCU"))])):m("",!0),t.row.priority==1?(a(),o("span",Vt,[t.row.campaign[0].event_type==32458?(a(),o("span",Tt,[l(f,{label:"IHUB"})])):(a(),o("span",Lt,[l(f,{label:"TCU"})]))])):m("",!0)]),_:2},1032,["props"]),l(g,{key:"progress",props:t},{default:i(()=>[t.row.campaign[0].status_id==1||t.row.campaign[0].status_id==5?(a(),o("div",Qt,[t.row.priority==0?(a(),o("span",Rt,u(t.row.campaign[0].start_time),1)):(a(),o("span",It,[l(f,{label:t.row.campaign[0].start_time},null,8,["label"])]))])):t.row.campaign[0].status_id==2?(a(),y(r(X),{key:1,attackScore:t.row.campaign[0].attackers_score,defenderScore:t.row.campaign[0].defenders_score,attackScoreOld:t.row.campaign[0].attackers_score_old,defenderScoreOld:t.row.campaign[0].defenders_score_old},null,8,["attackScore","defenderScore","attackScoreOld","defenderScoreOld"])):t.row.campaign[0].status_id==3||t.row.campaign[0].status_id==4?(a(),o("span",Dt,[t.row.campaign[0].attackers_score==0?(a(),o("p",Ft,[v(u(t.row.campaign[0].alliance.name)+" ",1),Ut,v(" the "+u(r(W)(t.row.campaign[0].event_type))+" timer. ",1)])):(a(),o("p",At,[v(u(t.row.campaign[0].alliance.name)+" ",1),Et,v(" the "+u(r(W)(t.row.campaign[0].event_type))+" timer. ",1)]))])):m("",!0)]),_:2},1032,["props"]),l(g,{key:"count",props:t},{default:i(()=>[c("div",Bt,[l(r(Z),{row:t.row},null,8,["row"]),l(r(ee),{onClick:n[7]||(n[7]=G(()=>{},["stop"])),system_name:t.row.campaign[0].system.system_name,region_name:t.row.campaign[0].constellation.region.region_name},null,8,["system_name","region_name"]),c("div",qt,[t.row.campaign[0].structure!=null?(a(),y(r(Y),{key:0,class:"q-pl-sm","emit-events":!1,time:r(ye)(t.row.campaign[0].structure.age),interval:6e4},{default:i(({hours:s,days:w})=>[t.row.priority==0?(a(),o("span",$t,[c("span",Pt,[w!=0?(a(),o("span",Mt,u(w)+" Days - ",1)):m("",!0),v(" "+u(s)+" Hours ",1)])])):m("",!0),t.row.priority==1?(a(),o("span",zt,[c("span",Wt,[l(f,{class:"text-positive"},{default:i(()=>[w!=0?(a(),o("span",jt,u(w)+" Days - ",1)):m("",!0),v(" "+u(s)+" Hours ",1)]),_:2},1024)])])):m("",!0)]),_:2},1032,["time"])):m("",!0)])])]),_:2},1032,["props"]),r(R)("edit_hack_priority")?(a(),y(g,{key:"actions",props:t,onClick:n[8]||(n[8]=G(s=>r(ie)(),["stop"]))},{default:i(()=>[r(R)("edit_hack_priority")?(a(),y(r(ae),{key:0,row:t.row},null,8,["row"])):m("",!0)]),_:2},1032,["props"])):m("",!0)]),_:2},1032,["props","class","onClick"])]),_:1},8,["rows","columns","filter","pagination"])]))}},ia=We(Ht,[["__scopeId","data-v-538628ab"]]);export{ia as default};

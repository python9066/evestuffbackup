import{ac as x,ad as S,af as k,ag as r,ah as c,y as T,s as E,r as d,e as B,o as D,c as I,a as t,w as o,ai as n,b as R,ak as l,ab as m,aW as V}from"./app.08c7f112.js";import{a as p,Q as $}from"./QTable.cb320335.js";const A={class:"q-ma-md"},N={class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},P={class:"col-12 flex flex-center"},q=n("span",{class:"text-h4"},"Initial Campaigns",-1),L={class:"row justify-end items-baseline"},Q={class:"col-auto"},j={class:"col-auto"},O={__name:"StartCampaign",setup(z){x(a=>({fafe2362:b.value}));let e=S(),u=k();const g=r(()=>c(()=>import("./AddStartCampaign.395bb74f.js"),["assets/AddStartCampaign.395bb74f.js","assets/app.08c7f112.js","assets/app.4ba9f0e4.css","assets/QTable.cb320335.js","assets/QToggle.9173b993.js"])),_=r(()=>c(()=>import("./StartSystemItemList.e43474cb.js"),["assets/StartSystemItemList.e43474cb.js","assets/QTable.cb320335.js","assets/app.08c7f112.js","assets/app.4ba9f0e4.css"]));T(async()=>{e.getConstellationList(),e.getStartCampaigns(),i(),Echo.private("startcampaigns").listen("StartcampaignUpdate",a=>{e.getStartCampaigns(),i()})}),E(async()=>{Echo.leave("startcampaigns")});let i=()=>{e.getStartCampaignJoinData()},f=async a=>{await V({method:"delete",url:"/api/startcampaigns/"+a.id,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}),e.getStartCampaigns()},h=d({descending:!1,page:1,rowsPerPage:0}),w=d([{name:"name",align:"left",required:!1,label:"Name",classes:"text-no-wrap",field:a=>a.name,format:a=>`${a}`,sortable:!1},{name:"system",required:!0,align:"center",label:"Constellations - Target",field:a=>a.system,format:a=>`${a}`,sortable:!1,filter:!0},{name:"actions",align:"right",classes:"text-no-wrap",label:"",field:a=>a.id,format:a=>`${a}`,sortable:!1,filter:!0}]),C=a=>{console.log(a),u.push({path:`/scampaign/${a.link}`})},b=B(()=>{let a=50;return e.size.height-a+"px"});return(a,y)=>(D(),I("div",A,[t($,{title:"Connections",class:"myCustomTables myRound bg-webBack",rows:l(e).startcampaigns,columns:w.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","no-data-label":"No Starting Campaigns","row-key":"id",dark:"",dense:"",ref:"tableRef",rounded:"",pagination:h.value},{top:o(s=>[n("div",N,[n("div",P,[q,R(),t(l(g))])])]),"body-cell-system":o(s=>[t(p,{props:s},{default:o(()=>[t(l(_),{campaignID:s.row.id},null,8,["campaignID"])]),_:2},1032,["props"])]),"body-cell-actions":o(s=>[t(p,null,{default:o(()=>[n("div",L,[n("div",Q,[t(m,{color:"negative",icon:"fa-solid fa-trash-can",flat:"",size:"sm",round:"",onClick:v=>l(f)(s.row)},null,8,["onClick"])]),n("div",j,[t(m,{color:"primary",rounded:"",size:"sm",label:"view",onClick:v=>l(C)(s.row)},null,8,["onClick"])])])]),_:2},1024)]),_:1},8,["rows","columns","pagination"])]))}};export{O as default};

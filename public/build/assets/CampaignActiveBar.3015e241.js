import{u as S,d as _,_ as f,i as U,r as T,c as b,h as o,e as p,f as t,w as n,j as d,m as c,l as e,n as h,C as i,aG as q,B as N,A as W,q as $,aF as z}from"./app.b8bc639a.js";import{Q as F}from"./QToggle.cf0cba15.js";import{Q as G,a as y}from"./QTabPanels.81a24c88.js";import{Q as H}from"./QExpansionItem.6067fa24.js";import"./use-checkbox.93d37e49.js";import"./QItemLabel.65cea28b.js";import"./QSlideTransition.7f35110f.js";import"./QSeparator.7f571c71.js";const J={class:"row q-gutter-none full-width items-center justify-between"},K={class:"col-auto"},X={class:"row full-width"},Y={class:"col-auto"},Z={class:"col-auto"},ee={class:"col-auto"},ae={key:0,class:"col-auto q-gutter-md"},le={key:1,class:"col-auto"},te={key:2,class:"col-auto"},oe={key:3,class:"col-auto"},ne={class:"col-auto q-gutter-sm"},_e={__name:"CampaignActiveBar",props:{operationID:Number},setup(m){const s=m,u=S(),C=_(()=>f(()=>import("./AddOperationUser.7ce5f846.js"),["assets/AddOperationUser.7ce5f846.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QTable.9ca148f2.js","assets/QSeparator.7f571c71.js","assets/QMarkupTable.d8dc2097.js","assets/QSelect.2a457a6e.js","assets/QItemLabel.65cea28b.js","assets/QLinearProgress.ceb52d52.js","assets/QCheckbox.c77fa795.js","assets/use-checkbox.93d37e49.js","assets/QTd.b9eedba1.js","assets/QTr.91d3a6df.js","assets/AddOperationUser.4fb2d066.css"])),w=_(()=>f(()=>import("./OperationCal.3183dd5f.js"),["assets/OperationCal.3183dd5f.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QSlider.b3dfeb81.js","assets/QMarkupTable.d8dc2097.js"])),I=_(()=>f(()=>import("./OperationUserTable.88521120.js"),["assets/OperationUserTable.88521120.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QBtnToggle.63331e64.js","assets/QTable.9ca148f2.js","assets/QSeparator.7f571c71.js","assets/QMarkupTable.d8dc2097.js","assets/QSelect.2a457a6e.js","assets/QItemLabel.65cea28b.js","assets/QLinearProgress.ceb52d52.js","assets/QCheckbox.c77fa795.js","assets/use-checkbox.93d37e49.js","assets/OperationUserTable.490c3f75.css"])),O=_(()=>f(()=>import("./OperationUserListTable.e6cedd07.js"),["assets/OperationUserListTable.e6cedd07.js","assets/QSelect.2a457a6e.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QItemLabel.65cea28b.js","assets/QTd.b9eedba1.js","assets/QTable.9ca148f2.js","assets/QSeparator.7f571c71.js","assets/QMarkupTable.d8dc2097.js","assets/QLinearProgress.ceb52d52.js","assets/QCheckbox.c77fa795.js","assets/use-checkbox.93d37e49.js","assets/OperationUserListTable.e469a459.css"])),k=_(()=>f(()=>import("./OperationLogTable.a7ec3911.js"),["assets/OperationLogTable.a7ec3911.js","assets/app.b8bc639a.js","assets/app.7b67968f.css","assets/QTd.b9eedba1.js","assets/QTable.9ca148f2.js","assets/QSeparator.7f571c71.js","assets/QMarkupTable.d8dc2097.js","assets/QSelect.2a457a6e.js","assets/QItemLabel.65cea28b.js","assets/QLinearProgress.ceb52d52.js","assets/QCheckbox.c77fa795.js","assets/use-checkbox.93d37e49.js","assets/OperationLogTable.bf8abdb0.css"]));let r=U("can"),l=T(!1),a=T(null),D=()=>{if(l.value&&a.value=="charTable"){l.value=!1,a.value=null;return}if(l.value&&a.value!="charTable"){a.value="charTable";return}if(!l.value){l.value=!0,a.value="charTable";return}},L=b(()=>!(l.value&&a.value=="charTable")),x=()=>{if(l.value&&a.value=="userTable"){l.value=!1,a.value=null;return}if(l.value&&a.value!="userTable"){a.value="userTable";return}if(!l.value){l.value=!0,a.value="userTable";return}},A=b(()=>!(l.value&&a.value=="userTable")),B=async()=>{if(l.value&&a.value=="logTable"){l.value=!1,a.value=null;return}if(l.value&&a.value!="logTable"){a.value="logTable",await u.getCampaignsLogs(s.operationID);return}if(!l.value){l.value=!0,a.value="logTable",await u.getCampaignsLogs(s.operationID);return}},V=b(()=>!(l.value&&a.value=="logTable")),E=async()=>{await axios({method:"post",url:"/api/sendadduseroverlay/"+s.operationID+"/"+1,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},j=async()=>{await axios({method:"post",url:"/api/sendadduseroverlay/"+s.operationID+"/"+2,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},P=b(()=>u.newOperationInfo.read_only==1?"Off":"On"),Q=b(()=>u.newOperationInfo.read_only==1?"text-green":"text-red"),R=async()=>{await axios({method:"post",url:"/api/operation/toggleWindow/"+1+"/"+s.operationID,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},M=async()=>{await axios({method:"post",url:"/api/operation/toggleWindow/"+0+"/"+s.operationID,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})};return(re,g)=>(o(),p("div",null,[t(H,{class:"shadow-1 overflow-hidden",style:{"border-radius":"30px"},label:"dance","expand-icon-toggle":"","hide-expand-icon":"","model-value":l.value,"header-class":" q-py-none bg-webBack text-webway text-center",onShow:v=>10,onHide:v=>10,dark:""},{header:n(()=>[d("div",J,[d("div",K,[d("div",X,[d("div",Y,[t(c,{class:"myOutLineButtonMid",color:"primary",outline:L.value,onClick:e(D),label:"Char Table",rounded:""},null,8,["outline","onClick"])]),d("div",Z,[t(e(C),{operationID:s.operationID},null,8,["operationID"])]),d("div",ee,[t(e(w),{operationID:m.operationID},null,8,["operationID"])])])]),e(r)("access_multi_campaigns")?(o(),p("div",ae,[e(r)("access_campaigns")?(o(),h(c,{key:0,flat:"",rounded:"",padding:"none",color:"primary",icon:"fa-solid fa-bullhorn",onClick:e(E)},null,8,["onClick"])):i("",!0),e(r)("access_campaigns")?(o(),h(c,{key:1,flat:"",rounded:"",padding:"none",color:"negative",icon:"fa-solid fa-bullhorn",onClick:e(j)},null,8,["onClick"])):i("",!0)])):i("",!0),e(r)("view_campaign_members")?(o(),p("div",le,[t(c,{class:"myOutLineButtonMid",color:"primary",outline:A.value,onClick:e(x),label:"User List",rounded:""},null,8,["outline","onClick"])])):i("",!0),e(r)("view_campaign_members")?(o(),p("div",te,[t(c,{class:"myOutLineButtonMid",color:"primary",outline:V.value,onClick:e(B),label:"Logs",rounded:""},null,8,["outline","onClick"])])):i("",!0),e(r)("edit_read_only")?(o(),p("div",oe,[t(F,{modelValue:e(u).newOperationInfo.read_only,"onUpdate:modelValue":g[0]||(g[0]=v=>e(u).newOperationInfo.read_only=v),"true-value":1,"false-value":0,color:"green"},{default:n(()=>[t(q,{mode:"out-in","enter-active-class":"animate__animated animate__flash "},{default:n(()=>[(o(),p("span",{class:N(Q.value),key:e(u).newOperationInfo.read_only}," Read Only - "+W(P.value),3))]),_:1})]),_:1},8,["modelValue"])])):i("",!0),d("div",ne,[t(c,{color:"primary",class:"myRoundButtonLeft myOutLineButtonMid",label:"Open",onClick:e(R)},null,8,["onClick"]),t(c,{color:"primary",class:"myRoundButtonRight myOutLineButtonMid",label:"CLose",onClick:e(M)},null,8,["onClick"])])])]),default:n(()=>[t($,null,{default:n(()=>[t(z,null,{default:n(()=>[t(G,{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=v=>a.value=v),animated:""},{default:n(()=>[t(y,{name:"charTable"},{default:n(()=>[t(e(I),{operationID:m.operationID},null,8,["operationID"])]),_:1}),e(r)("view_campaign_members")?(o(),h(y,{key:0,name:"userTable"},{default:n(()=>[t(e(O),{operationID:m.operationID},null,8,["operationID"])]),_:1})):i("",!0),t(y,{name:"logTable"},{default:n(()=>[e(r)("view_campaign_members")?(o(),h(e(k),{key:0,operationID:m.operationID},null,8,["operationID"])):i("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value"])]))}};export{_e as default};

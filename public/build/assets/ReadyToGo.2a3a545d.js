import{p as Q,n as S,e as l,o as s,c as d,E as u,y as r,a as o,H as g,I as O,J as T,K as w,L as b,C as h,M as x,N as D,O as c,F as I,D as p,R as V,U as R}from"./app.e311c8d7.js";const z={class:"row flex-center"},E={key:2},U={__name:"ReadyToGo",props:{item:Object,operationID:Number},setup(G){const n=G;let H=Q("can");const i=S();let B=async e=>{var a={user_status_id:3,system_id:n.item.id};await axios({method:"put",url:"/api/onthewayreadytogo/"+n.operationID+"/"+e,data:a,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},j=e=>!!(H("campaigns_admin_access")||i.user_id==e.user_id),A=e=>{var a={user_status_id:1,system_id:null};axios({method:"put",url:"/api/onthewayreadytogo/"+n.operationID+"/"+e,data:a,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},m=l(()=>W.value>0?L.value>0?1:2:0),v=l(()=>{var e=i.getOwnHackingCharOnOpAllHackers(n.operationID);return e||[]}),W=l(()=>v.value?v.value.length:0),f=l(()=>{var e=i.getOwnHackingCharOnOpAllHackers(n.operationID);return e&&(e=e.filter(a=>a.user_status_id!=4),e=e.filter(a=>a.system_id==n.item.id?a.user_status_id!=3:!0)),e||[]}),L=l(()=>f.value?f.value.length:0),_=l(()=>i.getOpUsersReadyToGoAll.filter(e=>e.system_id==n.item.id)),k=l(()=>_.value?_.value.length:0),M=l(()=>k.value==0),C=l(()=>{var e=i.getOwnHackingCharOnOp(n.operationID);if(e)var a=e.filter(t=>t.system_id==n.item.id&&t.user_status_id==3).length;else var a=0;return a>0?"green":"red"});return(e,a)=>(s(),d("div",z,[m.value==1?(s(),u(p,{key:0,color:C.value,class:"myOutLineButtonMid","no-caps":"",label:"Ready To Go",rounded:""},{default:r(()=>[o(I,null,{default:r(()=>[o(g,{style:{"min-width":"100px"}},{default:r(()=>[(s(!0),d(O,null,T(f.value,(t,y)=>w((s(),u(b,{clickable:"",key:y,onClick:N=>h(B)(t.id)},{default:r(()=>[o(x,null,{default:r(()=>[D(c(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[R]])),128))]),_:1})]),_:1})]),_:1},8,["color"])):m.value==2?(s(),u(p,{key:1,color:C.value,class:"myOutLineButtonMid","no-caps":"",label:"Ready To Go",rounded:""},null,8,["color"])):(s(),d("span",E," Ready To Go - ")),o(p,{color:"green-4",label:k.value,disabled:M.value,size:"sm",round:""},{default:r(()=>[o(I,null,{default:r(()=>[o(g,{style:{"min-width":"100px"}},{default:r(()=>[(s(!0),d(O,null,T(_.value,(t,y)=>w((s(),u(b,{clickable:"",key:y},{default:r(()=>[o(x,null,{default:r(()=>[D(c(t.name)+" - "+c(t.ship)+" - T"+c(t.entosis)+" ",1),h(j)(t)?(s(),u(p,{key:0,flat:"",padding:"none",round:"",color:"warning",icon:"fa-solid fa-trash-can",size:"xs",onClick:N=>h(A)(t.id)},null,8,["onClick"])):V("",!0)]),_:2},1024)]),_:2},1024)),[[R]])),128))]),_:1})]),_:1})]),_:1},8,["label","disabled"])]))}};export{U as default};
